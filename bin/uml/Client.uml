<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_ICMRkP1qEeizVtFKDMb3cQ" name="Client">
    <eAnnotations xmi:id="_IPcDYP1qEeizVtFKDMb3cQ" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_IPcDYf1qEeizVtFKDMb3cQ" source="codegen">
        <details xmi:id="_IPcDYv1qEeizVtFKDMb3cQ" key="codegenDirectory" value="/FinalProject/src"/>
        <details xmi:id="_JmWzAP1qEeizVtFKDMb3cQ" key="AssociatedSourceCode" value="/FinalProject/src/egc3_lw31/client/chatapp/controller/ChatAppController.java;1169127918/1;/FinalProject/src/egc3_lw31/client/chatapp/model/ChatAppModel.java;4080476081/1;/FinalProject/src/egc3_lw31/client/chatapp/model/IChatAppModel2ViewAdapter.java;2982258739/1;/FinalProject/src/egc3_lw31/client/chatapp/model/IMain2MiniAdapter.java;991181961/1;/FinalProject/src/egc3_lw31/client/util/ClientRemoteConnectionWrapper.java;2163376900/1;/FinalProject/src/egc3_lw31/client/chatapp/view/IChatAppView2ModelAdaptor.java;1434155818/1;/FinalProject/src/egc3_lw31/client/chatroom/controller/ChatRoomController.java;1747879459/1;/FinalProject/src/egc3_lw31/client/chatroom/model/ChatRoomModel.java;4186989091/1;/FinalProject/src/egc3_lw31/client/chatroom/model/IChatRoomModel2ViewAdapter.java;4167894950/1;/FinalProject/src/egc3_lw31/client/chatroom/model/IMini2MainAdapter.java;168068429/1;/FinalProject/src/egc3_lw31/client/chatroom/view/ChatRoomView.java;655244307/1;/FinalProject/src/egc3_lw31/client/chatroom/view/IChatRoomView2ModelAdapter.java;2958396626/1;/FinalProject/src/egc3_lw31/client/util/ChatRoomWrapper.java;1488054218/1;/FinalProject/src/egc3_lw31/client/util/ChatRoom.java;3744461423/1;/FinalProject/src/egc3_lw31/client/util/ClientRemoteConnection.java;1001708502/1;/FinalProject/src/egc3_lw31/client/chatapp/view/ChatAppGUI.java;371197735/1;/FinalProject/src/egc3_lw31/client/util/Member.java;225510549/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_JF-CwP1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_JF-Cwf1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_JF-Cwv1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_JF-Cw_1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_JF-CxP1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_JF-p0P1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_JF-p0f1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_JF-p0v1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_JF_Q4P1qEeizVtFKDMb3cQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_JFloQP1qEeizVtFKDMb3cQ" name="egc3_lw31">
      <packagedElement xmi:type="uml:Package" xmi:id="_JFloQf1qEeizVtFKDMb3cQ" name="client">
        <packagedElement xmi:type="uml:Package" xmi:id="_JFloQv1qEeizVtFKDMb3cQ" name="chatapp">
          <packagedElement xmi:type="uml:Package" xmi:id="_JFndcP1qEeizVtFKDMb3cQ" name="model">
            <packagedElement xmi:type="uml:Class" xmi:id="_JHiwEP1qEeizVtFKDMb3cQ" name="ChatAppModel">
              <ownedComment xmi:id="_JTI8FP1qEeizVtFKDMb3cQ">
                <body>Model for the main MVC.</body>
              </ownedComment>
              <ownedAttribute xmi:id="_JSLSwP1qEeizVtFKDMb3cQ" name="m2vAdpt" visibility="private" type="_JItNsP1qEeizVtFKDMb3cQ" association="_JTao4f1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSL50f1qEeizVtFKDMb3cQ" name="outputCmd" visibility="private" type="_JPw38f1qEeizVtFKDMb3cQ" association="_JTao5P1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSMg4f1qEeizVtFKDMb3cQ" value="new Consumer&lt;String>() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void accept(String s) {&#xA;&#x9;&#x9;&#x9;m2vAdpt.displayStatus(s + &quot;\n&quot;);&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSMg4_1qEeizVtFKDMb3cQ" name="rmiUtils" visibility="private" type="_JP-6Yf1qEeizVtFKDMb3cQ" association="_JTbP8f1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSNH8P1qEeizVtFKDMb3cQ" value="new RMIUtils(outputCmd)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSNvAf1qEeizVtFKDMb3cQ" name="localUserStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTb3Af1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSOWEf1qEeizVtFKDMb3cQ" name="remoteUserStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTb3BP1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSO9If1qEeizVtFKDMb3cQ" name="user" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTceEf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSPkMf1qEeizVtFKDMb3cQ" name="localRegistry" visibility="private" type="_JPt0oP1qEeizVtFKDMb3cQ" association="_JTdFIf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSQLQP1qEeizVtFKDMb3cQ" name="discSrv" visibility="private" type="_JP6B4f1qEeizVtFKDMb3cQ" association="_JTdFJP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSQLQf1qEeizVtFKDMb3cQ" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSQLQ_1qEeizVtFKDMb3cQ" name="connectedUserStubs" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTdsMf1qEeizVtFKDMb3cQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JSQLRP1qEeizVtFKDMb3cQ" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSQyUP1qEeizVtFKDMb3cQ" value="new HashSet&lt;IRemoteConnection>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSQyUv1qEeizVtFKDMb3cQ" name="LOCAL_USER_NAME">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSQyU_1qEeizVtFKDMb3cQ" value="IRemoteConnection.BOUND_NAME"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSRZYf1qEeizVtFKDMb3cQ" name="REMOTE_USER_NAME">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSRZYv1qEeizVtFKDMb3cQ" value="IRemoteConnection.BOUND_NAME"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSSAcf1qEeizVtFKDMb3cQ" name="LOCAL_RMI_PORT">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSSAcv1qEeizVtFKDMb3cQ" value="IRMI_Defs.CLASS_SERVER_PORT_CLIENT"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSSngP1qEeizVtFKDMb3cQ" name="REMOTE_RMI_PORT">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSSngf1qEeizVtFKDMb3cQ" value="IRMI_Defs.CLASS_SERVER_PORT_SERVER"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSSng_1qEeizVtFKDMb3cQ" name="BOUND_PORT_USER">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSSnhP1qEeizVtFKDMb3cQ" value="IRMI_Defs.STUB_PORT_SERVER"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSTOkf1qEeizVtFKDMb3cQ" name="BOUND_PORT_REP">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSTOkv1qEeizVtFKDMb3cQ" value="IRMI_Defs.STUB_PORT_CLIENT"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS9V4P1qEeizVtFKDMb3cQ" name="ChatAppModel" specification="_JQAvkP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS9V4f1qEeizVtFKDMb3cQ" name="m2vAdpt" type="_JItNsP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JS9V4v1qEeizVtFKDMb3cQ" type="_JHiwEP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>this.m2vAdpt = m2vAdpt;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS9V4_1qEeizVtFKDMb3cQ" name="start" specification="_JHlMUP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>try {
			// Start as a SERVER &amp; CLIENT
			// Step 1. Start the RMI system
			rmiUtils.startRMI(LOCAL_RMI_PORT);
			
			// Step 2. Use the IRMIUtils to get the LOCAL Registry.
			localRegistry = rmiUtils.getLocalRegistry();
			
			// Step 3. Instantiate the IUser RMI Object.
			user = new ClientRemoteConnection(&quot;Rocmeister Client&quot;, rmiUtils.getLocalAddress(), m2vAdpt);
			
			// Step 4. Create a stub of this ChatApp's IUser Object to be
			// used when connecting to a remote IUser.
			localUserStub = (IRemoteConnection) UnicastRemoteObject.exportObject(user, BOUND_PORT_USER);
			((ClientRemoteConnection) user).setUserStub(localUserStub);
			
			// Step 5. Bind the IUser stub to the local Registry
			localRegistry.rebind(LOCAL_USER_NAME, localUserStub);
			//outputCmd.accept(&quot;ChatAppModel successfully started! Your IP address is: &quot; + user.getIP());
			outputCmd.accept(&quot;ChatAppModel successfully started!&quot;);
			
			/* START DISCOVERY SERVER */
			
			@SuppressWarnings(&quot;unchecked&quot;)
			DiscoveryPanel discoveryPanel = new DiscoveryPanel(new IDiscoveryPanelAdapter&lt;IEndPointData>() {

				@Override
				public void connectToDiscoveryServer(String category, boolean watchOnly, Consumer endPtsUpdateFn) {
					IDiscoveryManager discMgr;
					try {
						discMgr = IDiscoveryConnection.getDiscoveryManager(rmiUtils);
												
						if (watchOnly) {
							discSrv = discMgr.connectAs(category);
						} else { 
							discSrv = discMgr.register(&quot;The Silk Road Game&quot;, category, IRemoteConnection.BOUND_NAME);
						}	
						Consumer&lt;Iterable&lt;IEndPointData>> endPtDisplayFn = endPtsUpdateFn;
						discSrv.watch(endPtDisplayFn);	
					} catch (RemoteException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}							
				}

				@Override
				public void connectToEndPoint(IEndPointData selectedValue) {
					// Get IP Address
					String ipAddress = selectedValue.getAddress();
					IRemoteConnection remoteStub = connectTo(ipAddress);
					m2vAdpt.addUser(remoteStub);
				}
				
			});
			
			//Initialize discovery server and have it appear as a new window
			discoveryPanel.start();
			JFrame discoverySvrPnl = new JFrame();
			discoverySvrPnl.getContentPane().add(discoveryPanel);
			discoverySvrPnl.setBounds(150, 150, 800, 488);
			discoverySvrPnl.setVisible(true);
		} catch (Exception e) {
			String s = &quot;ChatAppModel Starting Error: &quot; + e.toString();
			errMsg(s, e);
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS9V5P1qEeizVtFKDMb3cQ" name="stop" specification="_JHlzYP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>for (IGroup room : user.getGroups()) {
			for (IMember member : room.getMembers()) {
				if (member.getRemoteConnection().equals(user)) {
					room.getMembers().remove(member);
					ILeaveData data = new LeaveData(member);
					GroupDataPacket&lt;ILeaveData> leaveMsg = new GroupDataPacket&lt;>(data, member);
					room.sendMsgToAll(leaveMsg);
					//m2vAdpt.removeRoomFromView(room);
				}
			}
		}
		m2vAdpt.removeAllRooms();
//		
//		for (IMember repStub: user.getRepresentatives()) {
//			// unbind the IUser stub
//			ILeaveData data = new LeaveData(repStub);
//			// remove this rep locally first
//			IGroup room = repStub.getRoom();
//			room.deleteRep(repStub);
//			
//			// then tell every rep in the room to remove this user from the chatroom
//			DataPacket&lt;ILeaveData, IMember> leaveMsg = new DataPacket&lt;>(data, repStub);
//			room.sendMsgToAll(leaveMsg);
//			
//			//localReps.remove(repStub);
//			((RemoteConnection) user).removeRoom(room);
//			((RemoteConnection) user).removeRep(repStub);
//			// tell main view to remove this room's view, also remove this room from user's list
//			m2vAdpt.removeRoomFromView(room);
//		}		
		
		try {
			localRegistry.unbind(LOCAL_USER_NAME);
			rmiUtils.stopRMI();
		} catch (Exception e) {
			String s = &quot;ChatAppModel Stopping Error: &quot; + e.toString();
			errMsg(s, e);
		}
		System.exit(0);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS9V5f1qEeizVtFKDMb3cQ" name="connectTo" specification="_JHmacP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS9V5v1qEeizVtFKDMb3cQ" name="remoteUser">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JS9V5_1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>try {
			// Connect to the remoteUser
			Registry remoteRegistry = rmiUtils.getRemoteRegistry(remoteUser);
			remoteUserStub = (IRemoteConnection) remoteRegistry.lookup(REMOTE_USER_NAME);
			connectedUserStubs.add(remoteUserStub);
			outputCmd.accept(&quot;Successfully connected to &quot; + remoteUser + &quot;!&quot;);
			
			// Auto-connect back
			remoteUserStub.connect(localUserStub);
			outputCmd.accept(remoteUser + &quot;successfully connected back!&quot;);
			
			return remoteUserStub;
		} catch (Exception e) {
			String s = &quot;ChatAppModel Connection Error: &quot; + e.toString();
			errMsg(s, e);
			return null;
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS988P1qEeizVtFKDMb3cQ" name="createChatRoom" specification="_JHnBgP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS988f1qEeizVtFKDMb3cQ" name="roomName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JS988v1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>IGroup chatroom = new s(roomName);
		/* Mini Model Part */
		IMain2MiniAdapter m2mAdpt = m2vAdpt.makeMiniMVC(chatroom, localUserStub);
		//ChatRoomHelper helper = new ChatRoomHelper(chatroom);
		
		return m2mAdpt.getMiniRoom();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS988_1qEeizVtFKDMb3cQ" name="joinChatRoom" specification="_JRTJAP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS989P1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>// make a copy of this chatroom with UUID
		IGroup roomCopy = new s(chatroom.getName(), chatroom.getUUID());
		// add all exisiting members to this room
		for (IMember repStub: chatroom.getMembers()) {
			//roomCopy.addRep(repStub);
			roomCopy.getMembers().add(repStub);
		}
		
		for (IGroup room : user.getGroups()) {
			if (chatroom.getUUID() == room.getUUID()) {
				outputCmd.accept(&quot;You are already in&quot; + room.getName() + &quot;!&quot;);
				return;
			}
		}
		// tell everybody to add you
		IMain2MiniAdapter m2mAdpt = m2vAdpt.makeMiniMVC(roomCopy, localUserStub);
		m2vAdpt.addChatroom(m2mAdpt.getMiniRoom());
		
		//ChatRoomHelper helper = new ChatRoomHelper(chatroom);
		//return m2mAdpt.getMiniRoom();
		//ChatRoomHelper helper = new ChatRoomHelper(roomCopy);

//		IAddRep data = new IAddRep() {
//			private static final long serialVersionUID = -63482753576045163L;
//
//			@Override
//			public IRepresentative getRepToAdd() {
//				// TODO Auto-generated method stub
//				return helper.repStub;
//			}
//		};
//		IAddRep data = new AddRep(helper.repStub);
//		DataPacket&lt;IAddRep, IRepresentative> msg = new DataPacket&lt;>(data, helper.repStub);
//		// use chatroom to broadcast so you can skip yourself
//		//chatroom.broadcast(msg);
//		//roomCopy.broadcast(msg);
//		helper.room.broadcast(msg);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS989f1qEeizVtFKDMb3cQ" name="addRoom2User" specification="_JRU-MP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS989v1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>try {
			//System.out.println(&quot;ChatAppModel addRoom2User Start&quot;);
			user.getGroups().add(chatroom);
			//System.out.println(&quot;ChatAppModel addRoom2User End&quot;);
		} catch (RemoteException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS989_1qEeizVtFKDMb3cQ" name="removeRoom4User" specification="_JRVlQP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS98-P1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>try {
			user.getGroups().remove(chatroom);
		} catch (RemoteException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS98-f1qEeizVtFKDMb3cQ" name="addUser" specification="_JRVlQv1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS98-v1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>connectedUserStubs.add(userStub);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS-kAP1qEeizVtFKDMb3cQ" name="inviteUserToRoom" specification="_JRWMUP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS-kAf1qEeizVtFKDMb3cQ" name="stub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JS-kAv1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>try {
			stub.receiveInvite(room);
		} catch (RemoteException e) {
			e.printStackTrace();
		}		
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS-kA_1qEeizVtFKDMb3cQ" name="errMsg" specification="_JRXacf1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS-kBP1qEeizVtFKDMb3cQ" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JS-kBf1qEeizVtFKDMb3cQ" name="e" type="_JRWzYf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>System.err.println(s);
		outputCmd.accept(s);
		e.printStackTrace();
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JHlMUP1qEeizVtFKDMb3cQ" name="start" method="_JS9V4_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTI8Fv1qEeizVtFKDMb3cQ">
                  <body>Start up the ChatAppModel</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JHlzYP1qEeizVtFKDMb3cQ" name="stop" method="_JS9V5P1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTI8F_1qEeizVtFKDMb3cQ">
                  <body>@throws RemoteException -- exception when quitting the app</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JHmacP1qEeizVtFKDMb3cQ" name="connectTo" method="_JS9V5f1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjIP1qEeizVtFKDMb3cQ">
                  <body>connecting to a remoteUser using its IP address, add the set of chatrooms to the dropdown list
	 * @param remoteUser The remote user
	 * @return The remote user stub</body>
                </ownedComment>
                <ownedParameter xmi:id="_JHmacf1qEeizVtFKDMb3cQ" name="remoteUser">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JRSh8P1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JHnBgP1qEeizVtFKDMb3cQ" name="createChatRoom" method="_JS988P1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjIf1qEeizVtFKDMb3cQ">
                  <body>Create a chatroom
	 * @param roomName The name of the room
	 * @return A chat room</body>
                </ownedComment>
                <ownedParameter xmi:id="_JHnBgf1qEeizVtFKDMb3cQ" name="roomName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JRSh8f1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JQAvkP1qEeizVtFKDMb3cQ" name="ChatAppModel" method="_JS9V4P1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JQBWoP1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JQBWof1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTI8Ff1qEeizVtFKDMb3cQ">
                  <body>Constructor 
	 * @param m2vAdpt IChatAppModel2ViewAdapter</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQAvkf1qEeizVtFKDMb3cQ" name="m2vAdpt" type="_JItNsP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JQBWov1qEeizVtFKDMb3cQ" type="_JHiwEP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRTJAP1qEeizVtFKDMb3cQ" name="joinChatRoom" method="_JS988_1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjIv1qEeizVtFKDMb3cQ">
                  <body>Create a new IMember for the user to join the chatroom		
	 * add this member's stub to the chatroom locally
	 * update this chatroom for every member in this room
	 * broadcast the add rep msg to other reps
	 * @param chatroom The chat room
	 * @throws RemoteException -- exception when joining a remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRTJAf1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRTwEP1qEeizVtFKDMb3cQ" name="leaveChatRoom">
                <ownedParameter xmi:id="_JRTwEf1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRU-MP1qEeizVtFKDMb3cQ" name="addRoom2User" method="_JS989f1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjI_1qEeizVtFKDMb3cQ">
                  <body>Add the room for the user
	 * @param chatroom The chatroom to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRU-Mf1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRVlQP1qEeizVtFKDMb3cQ" name="removeRoom4User" method="_JS989_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjJP1qEeizVtFKDMb3cQ">
                  <body>Remove the room from the user
	 * @param chatroom The room to remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRVlQf1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRVlQv1qEeizVtFKDMb3cQ" name="addUser" method="_JS98-f1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjJf1qEeizVtFKDMb3cQ">
                  <body>Add user to users you're connected to
	 * @param userStub The user to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRVlQ_1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRWMUP1qEeizVtFKDMb3cQ" name="inviteUserToRoom" method="_JS-kAP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjJv1qEeizVtFKDMb3cQ">
                  <body>Invite an user to your room
	 * @param stub The user to invite
	 * @param room Your room</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRWMUf1qEeizVtFKDMb3cQ" name="stub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRWMUv1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRXacf1qEeizVtFKDMb3cQ" name="errMsg" visibility="private" method="_JS-kA_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTJjJ_1qEeizVtFKDMb3cQ">
                  <body>@param s -- message
	 * @param e -- error</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRXacv1qEeizVtFKDMb3cQ" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JRXac_1qEeizVtFKDMb3cQ" name="e" type="_JRWzYf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JItNsP1qEeizVtFKDMb3cQ" name="IChatAppModel2ViewAdapter">
              <ownedComment xmi:id="_JTJjKP1qEeizVtFKDMb3cQ">
                <body>Adapter for the main model to view</body>
              </ownedComment>
              <ownedOperation xmi:id="_JIt0wP1qEeizVtFKDMb3cQ" name="displayStatus">
                <ownedComment xmi:id="_JTJjKf1qEeizVtFKDMb3cQ">
                  <body>Shows the status of the application
	 * @param s The text to display in the status</body>
                </ownedComment>
                <ownedParameter xmi:id="_JIt0wf1qEeizVtFKDMb3cQ" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JIvC4P1qEeizVtFKDMb3cQ" name="removeAllRooms">
                <ownedComment xmi:id="_JTKKMP1qEeizVtFKDMb3cQ">
                  <body>Deletes all of the rooms from view for quitting.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JRZPoP1qEeizVtFKDMb3cQ" name="makeMiniMVC">
                <ownedComment xmi:id="_JTJjKv1qEeizVtFKDMb3cQ">
                  <body>Factory Method for making a miniMVC
	 * @param room Chat room
	 * @param user The user 
	 * @return a Main2Mini Adapter that allows IRep to install well known commands</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRZPof1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRZPov1qEeizVtFKDMb3cQ" name="user" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRZ2sP1qEeizVtFKDMb3cQ" type="_JIw4EP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRZ2sf1qEeizVtFKDMb3cQ" name="removeRoomFromView">
                <ownedComment xmi:id="_JTJjK_1qEeizVtFKDMb3cQ">
                  <body>Removes the chat room from the view
	 * @param room The room to remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRZ2sv1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRadwP1qEeizVtFKDMb3cQ" name="addUser">
                <ownedComment xmi:id="_JTKKMf1qEeizVtFKDMb3cQ">
                  <body>Adds user to room
	 * @param userStub The stub of the user</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRadwf1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRbE0P1qEeizVtFKDMb3cQ" name="addChatroom">
                <ownedComment xmi:id="_JTKKMv1qEeizVtFKDMb3cQ">
                  <body>Add chatroom
	 * @param chatroom Chat room to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRbE0f1qEeizVtFKDMb3cQ" name="chatroom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JIw4EP1qEeizVtFKDMb3cQ" name="IMain2MiniAdapter">
              <ownedComment xmi:id="_JTKKM_1qEeizVtFKDMb3cQ">
                <body>Adapter from the main to the mini MVC</body>
              </ownedComment>
              <ownedAttribute xmi:id="_JIyGMP1qEeizVtFKDMb3cQ" name="miniRoom" type="_JPqxUf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTYzsP1qEeizVtFKDMb3cQ"/>
              <ownedOperation xmi:id="_JIytQP1qEeizVtFKDMb3cQ" name="appendString">
                <ownedParameter xmi:id="_JIytQf1qEeizVtFKDMb3cQ" name="text">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JRbr4P1qEeizVtFKDMb3cQ" name="addComponent">
                <ownedParameter xmi:id="_JRbr4f1qEeizVtFKDMb3cQ" name="compFac" type="_JPqKQf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTYzsP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTYzsf1qEeizVtFKDMb3cQ _JIyGMP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTYzsf1qEeizVtFKDMb3cQ" name="" type="_JIw4EP1qEeizVtFKDMb3cQ" association="_JTYzsP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTao4f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTao4v1qEeizVtFKDMb3cQ _JSLSwP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTao4v1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTao4f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTao5P1qEeizVtFKDMb3cQ" name="" memberEnd="_JTao5f1qEeizVtFKDMb3cQ _JSL50f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTao5f1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTao5P1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTbP8f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTbP8v1qEeizVtFKDMb3cQ _JSMg4_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTbP8v1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTbP8f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTb3Af1qEeizVtFKDMb3cQ" name="" memberEnd="_JTb3Av1qEeizVtFKDMb3cQ _JSNvAf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTb3Av1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTb3Af1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTb3BP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTb3Bf1qEeizVtFKDMb3cQ _JSOWEf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTb3Bf1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTb3BP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTceEf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTceEv1qEeizVtFKDMb3cQ _JSO9If1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTceEv1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTceEf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTdFIf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTdFIv1qEeizVtFKDMb3cQ _JSPkMf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTdFIv1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTdFIf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTdFJP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTdFJf1qEeizVtFKDMb3cQ _JSQLQP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTdFJf1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTdFJP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTdsMf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTdsMv1qEeizVtFKDMb3cQ _JSQLQ_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTdsMv1qEeizVtFKDMb3cQ" name="" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTdsMf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_JFndcf1qEeizVtFKDMb3cQ" name="view">
            <packagedElement xmi:type="uml:Interface" xmi:id="_JI3lwP1qEeizVtFKDMb3cQ" name="IChatAppView2ModelAdaptor">
              <ownedComment xmi:id="_JTKKN_1qEeizVtFKDMb3cQ">
                <body>Adapter from the main view to model
@param &lt;TUserDropListItem> User
@param &lt;TRoomDropListItem> Chat room</body>
              </ownedComment>
              <ownedOperation xmi:id="_JI4z4f1qEeizVtFKDMb3cQ" name="quit">
                <ownedComment xmi:id="_JTKKOP1qEeizVtFKDMb3cQ">
                  <body>Quits the application</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JI5a8P1qEeizVtFKDMb3cQ" name="connectUser" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTKKOf1qEeizVtFKDMb3cQ">
                  <body>Connects user to remote user
	 * @param IP IP address of remote user
	 * @return Connected user 
	 * @throws RemoteException throws exception when connecting user</body>
                </ownedComment>
                <ownedParameter xmi:id="_JI5a8f1qEeizVtFKDMb3cQ" name="IP">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JReIIf1qEeizVtFKDMb3cQ" type="_JRdhEf1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JI6pEP1qEeizVtFKDMb3cQ" name="createRoom">
                <ownedComment xmi:id="_JTKxQP1qEeizVtFKDMb3cQ">
                  <body>Makes a new room
	 * @param name The name of the new chat room
	 * @return A new chatroom</body>
                </ownedComment>
                <ownedParameter xmi:id="_JI6pEf1qEeizVtFKDMb3cQ" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JRf9UP1qEeizVtFKDMb3cQ" type="_JRevMP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRfWQf1qEeizVtFKDMb3cQ" name="getSelectedUserRooms" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTKKOv1qEeizVtFKDMb3cQ">
                  <body>Gets the rooms that a connected user is in
	 * @param stub The connected user
	 * @return The list of rooms of the connected user
	 * @throws RemoteException throws exception when trying to get user rooms</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRfWQv1qEeizVtFKDMb3cQ" name="stub" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRfWQ_1qEeizVtFKDMb3cQ" type="_JRevMP1qEeizVtFKDMb3cQ" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JRfWRP1qEeizVtFKDMb3cQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JRgkYP1qEeizVtFKDMb3cQ" name="joinRoom" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTKxQf1qEeizVtFKDMb3cQ">
                  <body>Join an existing room 
	 * @param room The room to join
	 * @throws RemoteException throws exception when joining room</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRgkYf1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRgkYv1qEeizVtFKDMb3cQ" name="leaveRoom">
                <ownedComment xmi:id="_JTKxQv1qEeizVtFKDMb3cQ">
                  <body>Leave a room you are in
	 * @param room The room to leave</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRgkY_1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRhLcP1qEeizVtFKDMb3cQ" name="inviteUser">
                <ownedComment xmi:id="_JTKxQ_1qEeizVtFKDMb3cQ">
                  <body>Invite another user to a room you're in
	 * @param connectedUser The other user
	 * @param yourRoom Your room you want them to join</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRhLcf1qEeizVtFKDMb3cQ" name="connectedUser" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRhLcv1qEeizVtFKDMb3cQ" name="yourRoom" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_JJvvgP1qEeizVtFKDMb3cQ" name="ChatAppGUI">
              <ownedComment xmi:id="_JTN0kf1qEeizVtFKDMb3cQ">
                <body>ChatApp view.
@param &lt;TUserDropListItem> User
@param &lt;TRoomDropListItem> Chatroom</body>
              </ownedComment>
              <generalization xmi:id="_JR_FgP1qEeizVtFKDMb3cQ" general="_JPxfAf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSmwkP1qEeizVtFKDMb3cQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSmwkf1qEeizVtFKDMb3cQ" value="1988886322781805412L"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSmwkv1qEeizVtFKDMb3cQ" name="_v2mAdpt" visibility="private" type="_JI3lwP1qEeizVtFKDMb3cQ" association="_JTvZAf1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JSmwk_1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JSnXoP1qEeizVtFKDMb3cQ" key="transient"/>
                </eAnnotations>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSn-sf1qEeizVtFKDMb3cQ" name="contentPane" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTwAEf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSn-sv1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSolwf1qEeizVtFKDMb3cQ" name="controlPane" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTwnIf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSolwv1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSpM0f1qEeizVtFKDMb3cQ" name="displayPane" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTx1Qf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSpM0v1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSpz4P1qEeizVtFKDMb3cQ" name="panelQuit" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTycUf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSpz4f1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSpz4_1qEeizVtFKDMb3cQ" name="btnQuit" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTzDYf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSqa8P1qEeizVtFKDMb3cQ" value="new JButton(&quot;Quit&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSqa8v1qEeizVtFKDMb3cQ" name="panelConnection" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTzDZP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSqa8_1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSrCAf1qEeizVtFKDMb3cQ" name="textFieldHostIP" visibility="private" isLeaf="true" type="_JQpBsf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTzqcf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSrCAv1qEeizVtFKDMb3cQ" value="new JTextField()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSrpEP1qEeizVtFKDMb3cQ" name="btnConnect" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT0Rgf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSrpEf1qEeizVtFKDMb3cQ" value="new JButton(&quot;Connect&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSrpE_1qEeizVtFKDMb3cQ" name="lblRemoteUser" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT04kf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSsQIP1qEeizVtFKDMb3cQ" value="new JLabel(&quot;Remote User&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSsQIv1qEeizVtFKDMb3cQ" name="panelChatRoom" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT1fof1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSsQI_1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSs3Mf1qEeizVtFKDMb3cQ" name="textFieldRoomID" visibility="private" isLeaf="true" type="_JQpBsf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT2Gsf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSs3Mv1qEeizVtFKDMb3cQ" value="new JTextField()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSteQP1qEeizVtFKDMb3cQ" name="dropListRoom" visibility="private" isLeaf="true" type="_JQ3rMv1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT2twf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSteQv1qEeizVtFKDMb3cQ" value="new JComboBox&lt;>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSuFUf1qEeizVtFKDMb3cQ" name="dropListConnectedUsers" visibility="private" isLeaf="true" type="_JQ3rMv1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT3U0f1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSusYf1qEeizVtFKDMb3cQ" value="new JComboBox&lt;>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSvTcP1qEeizVtFKDMb3cQ" name="dropListCurChatrooms" visibility="private" isLeaf="true" type="_JQ3rMv1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT374f1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSv6gf1qEeizVtFKDMb3cQ" value="new JComboBox&lt;>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSwhkP1qEeizVtFKDMb3cQ" name="btnCreate" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT5KAP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSwhkf1qEeizVtFKDMb3cQ" value="new JButton(&quot;Create&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSwhk_1qEeizVtFKDMb3cQ" name="btnJoin" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT5xEf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSxIoP1qEeizVtFKDMb3cQ" value="new JButton(&quot;Join&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSxIov1qEeizVtFKDMb3cQ" name="lblChatRoom" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT6YIf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSxvsP1qEeizVtFKDMb3cQ" value="new JLabel(&quot;Your Rooms&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSxvsv1qEeizVtFKDMb3cQ" name="panelUserRoom" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT6_Mf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSxvs_1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSyWwf1qEeizVtFKDMb3cQ" name="tabbedPane" visibility="private" isLeaf="true" type="_JQ45Uv1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT8NUP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSyWwv1qEeizVtFKDMb3cQ" value="new JTabbedPane(JTabbedPane.TOP)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSy90f1qEeizVtFKDMb3cQ" name="panelStatus" visibility="private" isLeaf="true" type="_JQnMgf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT8NU_1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSy90v1qEeizVtFKDMb3cQ" value="new JScrollPane()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSzk4f1qEeizVtFKDMb3cQ" name="statusPane" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT80Yv1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSzk4v1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS0zAP1qEeizVtFKDMb3cQ" name="textAreaStatus" visibility="private" isLeaf="true" type="_JQoaof1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT9bcf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS0zAf1qEeizVtFKDMb3cQ" value="new JTextArea(10, 30)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS1aEP1qEeizVtFKDMb3cQ" name="lblConnectedUsers" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT-Cgf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS1aEf1qEeizVtFKDMb3cQ" value="new JLabel(&quot;Connected Users&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS2BIP1qEeizVtFKDMb3cQ" name="lblUsersRooms" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT-pkf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS2BIf1qEeizVtFKDMb3cQ" value="new JLabel(&quot;User's Rooms&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS2BI_1qEeizVtFKDMb3cQ" name="btnInvite" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT_Qof1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS2oMP1qEeizVtFKDMb3cQ" value="new JButton(&quot;Invite&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS2oMv1qEeizVtFKDMb3cQ" name="lblCreateRoom" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JT_3sP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS3PQP1qEeizVtFKDMb3cQ" value="new JLabel(&quot;Create Room&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS32UP1qEeizVtFKDMb3cQ" name="label" visibility="private" isLeaf="true" type="_JQ45UP1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JUAewf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS32Uf1qEeizVtFKDMb3cQ" value="new JLabel(&quot;&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS32U_1qEeizVtFKDMb3cQ" name="rooms" visibility="private" type="_JRevMP1qEeizVtFKDMb3cQ" association="_JUBF0f1qEeizVtFKDMb3cQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JS4dYP1qEeizVtFKDMb3cQ" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS4dYf1qEeizVtFKDMb3cQ" value="new HashSet&lt;>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JS4dY_1qEeizVtFKDMb3cQ" name="users" visibility="private" type="_JRdhEf1qEeizVtFKDMb3cQ" association="_JUBs4f1qEeizVtFKDMb3cQ">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JS5EcP1qEeizVtFKDMb3cQ" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JS5Ecf1qEeizVtFKDMb3cQ" value="new HashSet&lt;>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTFRsP1qEeizVtFKDMb3cQ" name="ChatAppGUI" specification="_JQ78oP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTFRsf1qEeizVtFKDMb3cQ" name="iChatAppView2ModelAdaptor" type="_JI3lwP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTFRsv1qEeizVtFKDMb3cQ" type="_JJvvgP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>this._v2mAdpt = iChatAppView2ModelAdaptor;
		initGUI();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTFRs_1qEeizVtFKDMb3cQ" name="start" specification="_JJ0oAP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>setVisible(true);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTFRtP1qEeizVtFKDMb3cQ" name="stop" specification="_JJ0oAf1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>setVisible(false);

	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTF4wP1qEeizVtFKDMb3cQ" name="initGUI" specification="_JJ1PEP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 600, 600);
		this.setTitle(&quot;Client&quot;);
		
		lblRemoteUser.setLabelFor(panelConnection);
//		txtHostIP.setToolTipText(&quot;The IP address of the host&quot;);
//		txtHostIP.setText(&quot;10.126.178.72&quot;);
//		txtHostIP.setColumns(10);
//		getContentPane().setLayout(new FlowLayout(FlowLayout.CENTER, 5, 5));
		
		//getContentPane().add(panel, BorderLayout.NORTH);
		//panel.setLayout(new FlowLayout(FlowLayout.CENTER, 5, 5));
	    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
	    contentPane.setBounds(150, 150, 150, 150);
	    contentPane.setLayout(new BorderLayout(0, 0));
	    setContentPane(contentPane);
	    
	    contentPane.add(controlPane, BorderLayout.NORTH);
	    contentPane.add(displayPane, BorderLayout.CENTER);
		controlPane.setLayout(new GridLayout(0, 4, 0, 0));
		controlPane.add(panelQuit);
		panelQuit.setLayout(new GridLayout(3, 1));
		controlPane.add(panelQuit);
		panelQuit.add(label);
		//		panelQuit.add(btnAdmin);
		//		btnAdmin.addActionListener(new ActionListener() {
		//			public void actionPerformed(ActionEvent e) {
		//				_v2mAdpt.admin();
		//			}
		//		});
		//		panelQuit.add(btnGuest);
		//		btnGuest.addActionListener(new ActionListener() {
		//			public void actionPerformed(ActionEvent e) {
		//				_v2mAdpt.guest();
		//			}
		//		});
			    btnQuit.setToolTipText(&quot;Quit entire chatapp.&quot;);
			    panelQuit.add(btnQuit);
			    btnQuit.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				_v2mAdpt.quit();
			}
		});
		controlPane.add(panelConnection);
		panelConnection.setLayout(new BorderLayout(0, 0));
		panelConnection.add(lblRemoteUser, BorderLayout.NORTH);
		textFieldHostIP.setText(&quot;10.126.178.72&quot;);
		textFieldHostIP.setToolTipText(&quot;IP Address of a Remote User.&quot;);
		textFieldHostIP.setColumns(10);	
		panelConnection.add(textFieldHostIP, BorderLayout.CENTER);
		btnConnect.setToolTipText(&quot;Connect to remote user.&quot;);
		
		btnConnect.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				TUserDropListItem userStub;
				try {
					//System.err.println(&quot;asd&quot;);
					userStub = _v2mAdpt.connectUser(textFieldHostIP.getText());
					// add other user to the droplist1
					if (!isInUsers(userStub)) {
						dropListConnectedUsers.addItem(userStub);
						users.add(userStub);
					}
					
				} catch (RemoteException e1) {
					e1.printStackTrace();
				}
			}
		});
		panelConnection.add(btnConnect, BorderLayout.SOUTH);
		
		/* User room Panel */
		controlPane.add(panelUserRoom);
		panelUserRoom.add(lblConnectedUsers);
		
		panelUserRoom.add(lblUsersRooms);
		panelUserRoom.add(dropListConnectedUsers);
		dropListConnectedUsers.setToolTipText(&quot;List of users you are currently connected to.&quot;);
		
		dropListConnectedUsers.addActionListener (new ActionListener () {
		    @SuppressWarnings(&quot;unchecked&quot;)
			public void actionPerformed(ActionEvent e) {
				List&lt;TRoomDropListItem> otherRooms;
				try {
					otherRooms = _v2mAdpt.getSelectedUserRooms((TUserDropListItem) dropListConnectedUsers.getSelectedItem());
					// add other user to the droplist1
					// clear this list
					dropListRoom.removeAllItems();
					
					// add other user's rooms to droplist2
					for (TRoomDropListItem room : otherRooms) {
						dropListRoom.addItem(room);
					}
				} catch (RemoteException e1) {
					e1.printStackTrace();
				} 
		    }
		});
		panelUserRoom.add(dropListRoom);
		
		dropListRoom.setToolTipText(&quot;List of rooms belonging to the connected user.&quot;);
		panelUserRoom.setLayout(new GridLayout(3, 3));
		panelUserRoom.add(btnInvite);
		btnInvite.setToolTipText(&quot;Invite a user to a room.&quot;);
		btnInvite.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				_v2mAdpt.inviteUser(dropListConnectedUsers.getItemAt(dropListConnectedUsers.getSelectedIndex()), dropListCurChatrooms.getItemAt(dropListCurChatrooms.getSelectedIndex()));
			}
		});
		
		panelUserRoom.add(btnJoin);
		btnJoin.setToolTipText(&quot;Join an existing chatroom.&quot;);
		btnJoin.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				try {
					//TODO
					_v2mAdpt.joinRoom(dropListRoom.getItemAt(dropListRoom.getSelectedIndex()));
					//dropListCurChatrooms.addItem(dropListRoom.getItemAt(dropListRoom.getSelectedIndex()));
				} catch (RemoteException e1) {
					e1.printStackTrace();
				}
			}
		});

		/* ChatRoom Panel */
		controlPane.add(panelChatRoom);
		panelChatRoom.setLayout(new GridLayout(3, 2));
		
		panelChatRoom.add(lblCreateRoom);
		lblChatRoom.setLabelFor(panelChatRoom);
		panelChatRoom.add(lblChatRoom);
		
		panelChatRoom.add(textFieldRoomID);
		//		panelChatRoom.add(btnLeave);
				
		textFieldRoomID.setColumns(10);
		dropListCurChatrooms.setToolTipText(&quot;Chatrooms you are in.&quot;);
		panelChatRoom.add(dropListCurChatrooms);
		panelChatRoom.add(btnCreate);
		
		btnCreate.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				TRoomDropListItem newRoom = _v2mAdpt.createRoom(textFieldRoomID.getText());
				//dropListRoom.addItem(newRoom);
				dropListCurChatrooms.addItem(newRoom);
			}
		});
		btnCreate.setToolTipText(&quot;Create a chatroom.&quot;);
		
//		btnLeave.addActionListener(new ActionListener() {
//			public void actionPerformed(ActionEvent e) {
//				_v2mAdpt.leaveRoom(dropListRoom.getItemAt(dropListRoom.getSelectedIndex()));
//			}
//		});
//		btnLeave.setToolTipText(&quot;Leave an existing chatroom.&quot;);

	
		/* Chat Room Panel*/
		tabbedPane.setToolTipText(&quot;Chatroom.&quot;);
		displayPane.add(tabbedPane);
		//tabbedPane.addTab(&quot;New tab&quot;, null, panel_1, null);
		
		/* Status panel*/
		panelStatus.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);
		panelStatus.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);
		displayPane.add(panelStatus);
		panelStatus.add(statusPane);
		statusPane.add(textAreaStatus);
		textAreaStatus.setToolTipText(&quot;Info about chatroom/connections/etc.&quot;);
//		panelStatus.setPreferredSize(new Dimension(10,10));
//		JLabel labelStatus = new JLabel(&quot;System Info&quot;);
//		panelStatus.add(labelStatus);
		panelStatus.setAutoscrolls(true);
		panelStatus.setViewportView(textAreaStatus);
		//panelStatus.setViewportView(statusPane);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTF4wf1qEeizVtFKDMb3cQ" name="displayStatus" specification="_JJ1PEf1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTF4wv1qEeizVtFKDMb3cQ" name="text">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>textAreaStatus.append(text);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTF4w_1qEeizVtFKDMb3cQ" name="installMiniView" specification="_JQ9Kwf1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTF4xP1qEeizVtFKDMb3cQ" name="roomName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JTF4xf1qEeizVtFKDMb3cQ" name="miniView" type="_JJPZMP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>tabbedPane.addTab(roomName, miniView);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTF4xv1qEeizVtFKDMb3cQ" name="removeMiniView" specification="_JR8pQP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTF4x_1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>tabbedPane.removeTabAt(tabbedPane.getSelectedIndex());
		//rooms.remove(room);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTF4yP1qEeizVtFKDMb3cQ" name="removeAllMiniViews" specification="_JJ2dMP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>tabbedPane.removeAll();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTGf0P1qEeizVtFKDMb3cQ" name="addUser" specification="_JR9QUP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTGf0f1qEeizVtFKDMb3cQ" name="userStub" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>dropListConnectedUsers.addItem(userStub);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTGf0v1qEeizVtFKDMb3cQ" name="addRoom" specification="_JR9QUv1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTGf0_1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>if (!isInRooms(room)) {
			dropListCurChatrooms.addItem(room);
			rooms.add(room);
		}		
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTGf1P1qEeizVtFKDMb3cQ" name="removeRoomFromList" specification="_JR93YP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTGf1f1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>dropListCurChatrooms.removeItem(room);
		rooms.remove(room);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTGf1v1qEeizVtFKDMb3cQ" name="isInUsers" specification="_JR93Yv1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTGf1_1qEeizVtFKDMb3cQ" name="newUser" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTGf2P1qEeizVtFKDMb3cQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (TUserDropListItem user : users) {
			ClientRemoteConnectionWrapper wrapper = (ClientRemoteConnectionWrapper) user;
			ClientRemoteConnectionWrapper newWrapper = (ClientRemoteConnectionWrapper) newUser;
			
			if (wrapper.getUser().equals(newWrapper.getUser())) return true;
		}
		return false;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTGf2f1qEeizVtFKDMb3cQ" name="isInRooms" specification="_JR-ecv1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTGf2v1qEeizVtFKDMb3cQ" name="newRoom" type="_JRevMP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTGf2_1qEeizVtFKDMb3cQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (TRoomDropListItem room : rooms) {
			ChatRoomWrapper wrapper = (ChatRoomWrapper) room;
			ChatRoomWrapper newWrapper = (ChatRoomWrapper) newRoom;
			
			if (wrapper.getRoom().equals(newWrapper.getRoom())) return true;
		}
		return false;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JJ0oAP1qEeizVtFKDMb3cQ" name="start" method="_JTFRs_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTN0k_1qEeizVtFKDMb3cQ">
                  <body>Starts the already initialized frame, making it 
	 * visible and ready to interact with the user.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJ0oAf1qEeizVtFKDMb3cQ" name="stop" method="_JTFRtP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTN0lP1qEeizVtFKDMb3cQ">
                  <body>Close the window</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJ1PEP1qEeizVtFKDMb3cQ" name="initGUI" visibility="private" method="_JTF4wP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTN0lf1qEeizVtFKDMb3cQ">
                  <body>GUI initialization</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJ1PEf1qEeizVtFKDMb3cQ" name="displayStatus" method="_JTF4wf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTN0lv1qEeizVtFKDMb3cQ">
                  <body>Displays status messages
	 * @param text Text to show</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJ12IP1qEeizVtFKDMb3cQ" name="text">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JJ2dMP1qEeizVtFKDMb3cQ" name="removeAllMiniViews" method="_JTF4yP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObov1qEeizVtFKDMb3cQ">
                  <body>Remove all tabs of the rooms you are in</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JQ78oP1qEeizVtFKDMb3cQ" name="ChatAppGUI" method="_JTFRsP1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JQ8jsf1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JQ8jsv1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTN0kv1qEeizVtFKDMb3cQ">
                  <body>Constructor
	 * @param iChatAppView2ModelAdaptor View2ModelAdapter</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQ8jsP1qEeizVtFKDMb3cQ" name="iChatAppView2ModelAdaptor" type="_JI3lwP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JQ8js_1qEeizVtFKDMb3cQ" type="_JJvvgP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JQ9Kwf1qEeizVtFKDMb3cQ" name="installMiniView" method="_JTF4w_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTOboP1qEeizVtFKDMb3cQ">
                  <body>Add a chatroom tab
	 * @param roomName Name of the chatroom
	 * @param miniView View of the mini MVC</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQ9x0P1qEeizVtFKDMb3cQ" name="roomName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_JQ9x0f1qEeizVtFKDMb3cQ" name="miniView" type="_JJPZMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JR8pQP1qEeizVtFKDMb3cQ" name="removeMiniView" method="_JTF4xv1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObof1qEeizVtFKDMb3cQ">
                  <body>Remove the tab of the room
	 * @param room Room to remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR8pQf1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JR9QUP1qEeizVtFKDMb3cQ" name="addUser" method="_JTGf0P1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObo_1qEeizVtFKDMb3cQ">
                  <body>Add the user to list of connected users
	 * @param userStub The user to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR9QUf1qEeizVtFKDMb3cQ" name="userStub" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JR9QUv1qEeizVtFKDMb3cQ" name="addRoom" method="_JTGf0v1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObpP1qEeizVtFKDMb3cQ">
                  <body>Add room to list of rooms
	 * @param room Room to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR9QU_1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JR93YP1qEeizVtFKDMb3cQ" name="removeRoomFromList" method="_JTGf1P1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObpf1qEeizVtFKDMb3cQ">
                  <body>Remove the room from the list of rooms you are in
	 * @param room The room to remove</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR93Yf1qEeizVtFKDMb3cQ" name="room" type="_JRevMP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JR93Yv1qEeizVtFKDMb3cQ" name="isInUsers" visibility="private" method="_JTGf1v1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObpv1qEeizVtFKDMb3cQ">
                  <body>@param newUser -- the user to be checked
	 * @return true if newUser is already in the set of connected users.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR-ecP1qEeizVtFKDMb3cQ" name="newUser" type="_JRdhEf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JR-ecf1qEeizVtFKDMb3cQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JR-ecv1qEeizVtFKDMb3cQ" name="isInRooms" visibility="private" method="_JTGf2f1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTObp_1qEeizVtFKDMb3cQ">
                  <body>@param newRoom -- the room to be checked
	 * @return true if newRoom is already in the set of connected rooms.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JR-ec_1qEeizVtFKDMb3cQ" name="newRoom" type="_JRevMP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JR-edP1qEeizVtFKDMb3cQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_JRdhEf1qEeizVtFKDMb3cQ" name="TUserDropListItem"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_JRevMP1qEeizVtFKDMb3cQ" name="TRoomDropListItem"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTvZAf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTvZAv1qEeizVtFKDMb3cQ _JSmwkv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTvZAv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTvZAf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTwAEf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTwAEv1qEeizVtFKDMb3cQ _JSn-sf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTwAEv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTwAEf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTwnIf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTwnIv1qEeizVtFKDMb3cQ _JSolwf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTwnIv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTwnIf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTx1Qf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTx1Qv1qEeizVtFKDMb3cQ _JSpM0f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTx1Qv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTx1Qf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTycUf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTycUv1qEeizVtFKDMb3cQ _JSpz4P1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTycUv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTycUf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTzDYf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTzDYv1qEeizVtFKDMb3cQ _JSpz4_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTzDYv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTzDYf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTzDZP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTzDZf1qEeizVtFKDMb3cQ _JSqa8v1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTzDZf1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTzDZP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTzqcf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTzqcv1qEeizVtFKDMb3cQ _JSrCAf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTzqcv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTzqcf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT0Rgf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT0Rgv1qEeizVtFKDMb3cQ _JSrpEP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT0Rgv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT0Rgf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT04kf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT04kv1qEeizVtFKDMb3cQ _JSrpE_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT04kv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT04kf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT1fof1qEeizVtFKDMb3cQ" name="" memberEnd="_JT1fov1qEeizVtFKDMb3cQ _JSsQIv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT1fov1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT1fof1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT2Gsf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT2Gsv1qEeizVtFKDMb3cQ _JSs3Mf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT2Gsv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT2Gsf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT2twf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT2twv1qEeizVtFKDMb3cQ _JSteQP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT2twv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT2twf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT3U0f1qEeizVtFKDMb3cQ" name="" memberEnd="_JT3U0v1qEeizVtFKDMb3cQ _JSuFUf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT3U0v1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT3U0f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT374f1qEeizVtFKDMb3cQ" name="" memberEnd="_JT374v1qEeizVtFKDMb3cQ _JSvTcP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT374v1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT374f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT5KAP1qEeizVtFKDMb3cQ" name="" memberEnd="_JT5KAf1qEeizVtFKDMb3cQ _JSwhkP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT5KAf1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT5KAP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT5xEf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT5xEv1qEeizVtFKDMb3cQ _JSwhk_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT5xEv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT5xEf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT6YIf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT6YIv1qEeizVtFKDMb3cQ _JSxIov1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT6YIv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT6YIf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT6_Mf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT6_Mv1qEeizVtFKDMb3cQ _JSxvsv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT6_Mv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT6_Mf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT8NUP1qEeizVtFKDMb3cQ" name="" memberEnd="_JT8NUf1qEeizVtFKDMb3cQ _JSyWwf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT8NUf1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT8NUP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT8NU_1qEeizVtFKDMb3cQ" name="" memberEnd="_JT80YP1qEeizVtFKDMb3cQ _JSy90f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT80YP1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT8NU_1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT80Yv1qEeizVtFKDMb3cQ" name="" memberEnd="_JT80Y_1qEeizVtFKDMb3cQ _JSzk4f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT80Y_1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT80Yv1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT9bcf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT9bcv1qEeizVtFKDMb3cQ _JS0zAP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT9bcv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT9bcf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT-Cgf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT-Cgv1qEeizVtFKDMb3cQ _JS1aEP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT-Cgv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT-Cgf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT-pkf1qEeizVtFKDMb3cQ" name="" memberEnd="_JT-pkv1qEeizVtFKDMb3cQ _JS2BIP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT-pkv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT-pkf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT_Qof1qEeizVtFKDMb3cQ" name="" memberEnd="_JT_Qov1qEeizVtFKDMb3cQ _JS2BI_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT_Qov1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT_Qof1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JT_3sP1qEeizVtFKDMb3cQ" name="" memberEnd="_JT_3sf1qEeizVtFKDMb3cQ _JS2oMv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JT_3sf1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JT_3sP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JUAewf1qEeizVtFKDMb3cQ" name="" memberEnd="_JUAewv1qEeizVtFKDMb3cQ _JS32UP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JUAewv1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JUAewf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JUBF0f1qEeizVtFKDMb3cQ" name="" memberEnd="_JUBF0v1qEeizVtFKDMb3cQ _JS32U_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JUBF0v1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JUBF0f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JUBs4f1qEeizVtFKDMb3cQ" name="" memberEnd="_JUBs4v1qEeizVtFKDMb3cQ _JS4dY_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JUBs4v1qEeizVtFKDMb3cQ" name="" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JUBs4f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_JFpSoP1qEeizVtFKDMb3cQ" name="controller">
            <packagedElement xmi:type="uml:Class" xmi:id="_JHd3kP1qEeizVtFKDMb3cQ" name="ChatAppController">
              <ownedComment xmi:id="_JTI8EP1qEeizVtFKDMb3cQ">
                <body>Controller for ChatApp.
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_JSJdkP1qEeizVtFKDMb3cQ" name="chatappmodel" visibility="private" type="_JHiwEP1qEeizVtFKDMb3cQ" association="_JTaB0P1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSKEoP1qEeizVtFKDMb3cQ" name="chatappview" visibility="private" type="_JJvvgP1qEeizVtFKDMb3cQ" association="_JTaB0_1qEeizVtFKDMb3cQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS8u0P1qEeizVtFKDMb3cQ" name="ChatAppController" specification="_JHfFsP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS8u0f1qEeizVtFKDMb3cQ" type="_JHd3kP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>chatappmodel = new ChatAppModel(new IChatAppModel2ViewAdapter() {
			@Override
			public void displayStatus(String s) {
				chatappview.displayStatus(s);
			}
			
			@Override
			public void removeRoomFromView(IGroup room) {
				chatappview.removeMiniView(new ChatRoomWrapper(room));
			}
			
			@Override
			public void removeAllRooms() {
				chatappview.removeAllMiniViews();
			}

			@Override
			public void addUser(IRemoteConnection userStub) {
				chatappview.addUser(new ClientRemoteConnectionWrapper(userStub));
				
			}
			
			@Override
			public void addChatroom(IGroup chatroom) {
				// TODO Auto-generated method stub
				chatappview.addRoom(new ChatRoomWrapper(chatroom));
			}

			// This makeMiniMVC method in fact has a lot going on:
			// 1. m2vAdpt instantiates a mini-controller;
			// 2. mini-controller makes mini-model, mini-view, and mini-adapters;
			// 3. mini-controller installs the mini-view into the main-view;
			// 4. finally the m2vAdpt returns the resultant adapter to the mini MVC.
			@Override
			public IMain2MiniAdapter makeMiniMVC(IGroup room, IRemoteConnection userStub) {
				// step 1 and 2
				ChatRoomController miniController;
				miniController = new ChatRoomController(room, userStub, new IMini2MainAdapter() {

					@Override
					public void removeRoomFromMainView(IGroup room) {
						chatappview.removeMiniView(new ChatRoomWrapper(room));
					}

					@Override 
					public void removeRoomFromMainList(IGroup room) {
						chatappview.removeRoomFromList(new ChatRoomWrapper(room));
					}
					
					@Override
					public void addRoom2User(IGroup room) {
						chatappmodel.addRoom2User(room);
						//System.out.println(&quot;ChatAppController addRoom2User End&quot;);
					}

					@Override
					public void removeRoom4User(IGroup room) {
						chatappmodel.removeRoom4User(room);
					}
				});				
				
				// install the mini-view
				ChatRoomView miniView = miniController.getMiniView();
				chatappview.installMiniView(room.getName(), miniView);
				
				// return the resultant Main2Mini Adapter
				return new IMain2MiniAdapter() {
					
					@Override
					public void appendString(String text) {
						miniView.sendMsg(text);
					}

					@Override
					public void addComponent(Supplier&lt;Component> compFac) {
						// TODO Auto-generated method stub
						
					}

					@Override
					public IGroup getMiniRoom() {
						return miniController.getMiniModel().getRoom();
					}	
				};
			}
		});
		
		chatappview = new ChatAppGUI&lt;>(new IChatAppView2ModelAdaptor&lt;ClientRemoteConnectionWrapper, ChatRoomWrapper>() {
//			@Override
//			public void admin() {
//				chatappmodel.admin();
//			}
//
//			@Override
//			public void guest() {
//				chatappmodel.guest();
//			}
			
			@Override
			public void quit() {
				try {
					chatappmodel.stop();
				} catch (RemoteException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}

			@Override
			public ClientRemoteConnectionWrapper connectUser(String IP) throws RemoteException {
				return new ClientRemoteConnectionWrapper(chatappmodel.connectTo(IP));
			}

			@Override
			public List&lt;ChatRoomWrapper> getSelectedUserRooms(ClientRemoteConnectionWrapper stub) throws RemoteException {
				List &lt;ChatRoomWrapper> list = new ArrayList&lt;ChatRoomWrapper>();
				stub.getUser().getGroups().forEach((room) -> list.add(new ChatRoomWrapper(room)));
				return list;
			}
			
//			@Override
//			public List&lt;IGroup> getMyRooms() throws RemoteException {
//				return chatappmodel.getMyRooms();
//			}
			
			@Override
			public ChatRoomWrapper createRoom(String name)  {
				return new ChatRoomWrapper(chatappmodel.createChatRoom(name));
			}

			@Override
			public void joinRoom(ChatRoomWrapper roomWrapper) throws RemoteException {
				// TODO Auto-generated method stub
				chatappmodel.joinChatRoom(roomWrapper.getRoom());
			}

			@Override
			public void leaveRoom(ChatRoomWrapper roomWrapper) {
				// TODO Auto-generated method stub
				chatappmodel.leaveChatRoom(roomWrapper.getRoom());
			}
			
			@Override
			public void inviteUser(ClientRemoteConnectionWrapper stubWrapper, ChatRoomWrapper roomWrapper) {
				chatappmodel.inviteUserToRoom(stubWrapper.getUser(), roomWrapper.getRoom());
			}
			
		});
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS8u0v1qEeizVtFKDMb3cQ" name="start" specification="_JHgT0P1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>chatappmodel.start();
		//chatappmodel.admin();
		chatappview.start();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS8u0_1qEeizVtFKDMb3cQ" name="main" specification="_JHg64P1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS8u1P1qEeizVtFKDMb3cQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JS8u1f1qEeizVtFKDMb3cQ" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					ChatAppController controller = new ChatAppController();
					controller.start();
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JHfFsP1qEeizVtFKDMb3cQ" name="ChatAppController" method="_JS8u0P1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JHfswP1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JHfswf1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTI8Ef1qEeizVtFKDMb3cQ">
                  <body>Chatroom controller.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JHfswv1qEeizVtFKDMb3cQ" type="_JHd3kP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JHgT0P1qEeizVtFKDMb3cQ" name="start" method="_JS8u0v1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTI8Ev1qEeizVtFKDMb3cQ">
                  <body>Start the system</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JHg64P1qEeizVtFKDMb3cQ" name="main" isStatic="true" method="_JS8u0_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTI8E_1qEeizVtFKDMb3cQ">
                  <body>@param args Inputed arguments for the main method
	 * Main method for the Controller, instantiates and starts the Controller and handles exceptions</body>
                </ownedComment>
                <ownedParameter xmi:id="_JHg64f1qEeizVtFKDMb3cQ" name="args">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JHg64v1qEeizVtFKDMb3cQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTaB0P1qEeizVtFKDMb3cQ" name="" memberEnd="_JTaB0f1qEeizVtFKDMb3cQ _JSJdkP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTaB0f1qEeizVtFKDMb3cQ" name="" type="_JHd3kP1qEeizVtFKDMb3cQ" association="_JTaB0P1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTaB0_1qEeizVtFKDMb3cQ" name="" memberEnd="_JTaB1P1qEeizVtFKDMb3cQ _JSKEoP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTaB1P1qEeizVtFKDMb3cQ" name="" type="_JHd3kP1qEeizVtFKDMb3cQ" association="_JTaB0_1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_JFndcv1qEeizVtFKDMb3cQ" name="chatroom">
          <packagedElement xmi:type="uml:Package" xmi:id="_JFndc_1qEeizVtFKDMb3cQ" name="controller">
            <packagedElement xmi:type="uml:Class" xmi:id="_JI9sYP1qEeizVtFKDMb3cQ" name="ChatRoomController">
              <ownedComment xmi:id="_JTKxRP1qEeizVtFKDMb3cQ">
                <body>Controller of the mini MVC</body>
              </ownedComment>
              <ownedAttribute xmi:id="_JSVDwP1qEeizVtFKDMb3cQ" name="roomModel" visibility="private" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTe6Uf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSVDwv1qEeizVtFKDMb3cQ" name="roomView" visibility="private" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTgIcf1qEeizVtFKDMb3cQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_LF_1qEeizVtFKDMb3cQ" name="ChatRoomController" specification="_JRhygP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS_LGP1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JS_LGf1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JS_LGv1qEeizVtFKDMb3cQ" name="m2MAdpt" type="_JJOLEP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JS_LG_1qEeizVtFKDMb3cQ" type="_JI9sYP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>//		roomModel = new ChatRoomModel(chatroom, new IChatRoomModel2ViewAdapter() {
//		});
		
		roomView = new ChatRoomView(new IChatRoomView2ModelAdapter() {

//			@Override
//			public IInstruct addMessage(String msg) {
//				// TODO Auto-generated method stub
//				return null;
//			}

//			@Override
//			public IText addText(String text) {
//				return new Text(text);
//			}

			@Override
			public void sendText(String msg) {
				roomModel.sendText(msg);
				
//				// Make a DataPacket for IText
//				ITxtData ITextData = new Text(msg);
//				ChatroomDataPacket&lt;ITxtData> dp = new ChatroomDataPacket&lt;>(ITextData, repStub);
//				try {
//					roomModel.broadcastMessage(dp);
//				} catch (RemoteException e) {
//					// TODO Auto-generated catch block
//					e.printStackTrace();
//				}
			}
			
			@Override
			public void sendImage(String path) {
				roomModel.sendImage(path);
//				knownType input = new knownType(text);
//				// Make a DataPacket for sending first known type (unknown to others)
//				ChatroomDataPacket&lt;knownType> dp = new ChatroomDataPacket&lt;>(input, repStub);
//				try {
//					roomModel.broadcastMessage(dp);
//				} catch (RemoteException e) {
//					// TODO Auto-generated catch block
//					e.printStackTrace();
//				}				
			}

			@Override
			public void leaveRoom() {
				// TODO Auto-generated method stub
				try {
					roomModel.leaveRoom();
				} catch (RemoteException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
			
			@Override
			public void removeRoomfromList() {
				roomModel.removeRoomfromList();
			}
			
//			@Override
//			public void sendText(String Data) {
//				// Make a DataPacket for IText
//				IText ITextData = new Helper(Data);
//				DataPacket&lt;IText, IRepresentative> dp = new DataPacket&lt;>(ITextData, repStub);
//				roomModel.broadcastMessage(dp);
//			}
		});
		
		roomModel = new ChatRoomModel(room, m2MAdpt, userStub, new IChatRoomModel2ViewAdapter() {
			@Override
			public void appendString(String t) {
				//System.out.println(&quot;ChatRoomController Debug 1&quot;);
				roomView.sendMsg(t);
			}

			@Override
			public void addComponent(Component comp) {
				roomView.addComponent(comp);
			}
		});
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_yIP1qEeizVtFKDMb3cQ" name="getMiniModel" specification="_JI-6gP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS_yIf1qEeizVtFKDMb3cQ" type="_JJBWwP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>return roomModel;</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_yIv1qEeizVtFKDMb3cQ" name="getMiniView" specification="_JI_hkP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JS_yI_1qEeizVtFKDMb3cQ" type="_JJPZMP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>return roomView;</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_yJP1qEeizVtFKDMb3cQ" name="start" specification="_JI_hkf1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>roomModel.start();
		roomView.start();
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JI-6gP1qEeizVtFKDMb3cQ" name="getMiniModel" method="_JS_yIP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTKxRv1qEeizVtFKDMb3cQ">
                  <body>Get the mini chat room model
	 * @return The mini model</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQKgkP1qEeizVtFKDMb3cQ" type="_JJBWwP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JI_hkP1qEeizVtFKDMb3cQ" name="getMiniView" method="_JS_yIv1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTKxR_1qEeizVtFKDMb3cQ">
                  <body>Get the mini chat room view
	 * @return The mini view</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQLHoP1qEeizVtFKDMb3cQ" type="_JJPZMP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JI_hkf1qEeizVtFKDMb3cQ" name="start" method="_JS_yJP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYUP1qEeizVtFKDMb3cQ">
                  <body>Start the model and the view</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JRhygP1qEeizVtFKDMb3cQ" name="ChatRoomController" method="_JS_LF_1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JRhyhP1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JRhyhf1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTKxRf1qEeizVtFKDMb3cQ">
                  <body>Constructor 
	 * @param room Chat room
	 * @param userStub Stub of the user.
	 * @param m2MAdpt IMini2MainAdapter</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRhygf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRhygv1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRhyg_1qEeizVtFKDMb3cQ" name="m2MAdpt" type="_JJOLEP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRiZkP1qEeizVtFKDMb3cQ" type="_JI9sYP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTe6Uf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTe6Uv1qEeizVtFKDMb3cQ _JSVDwP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTe6Uv1qEeizVtFKDMb3cQ" name="" type="_JI9sYP1qEeizVtFKDMb3cQ" association="_JTe6Uf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTgIcf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTgIcv1qEeizVtFKDMb3cQ _JSVDwv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTgIcv1qEeizVtFKDMb3cQ" name="" type="_JI9sYP1qEeizVtFKDMb3cQ" association="_JTgIcf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_JFoEgP1qEeizVtFKDMb3cQ" name="model">
            <packagedElement xmi:type="uml:Class" xmi:id="_JJBWwP1qEeizVtFKDMb3cQ" name="ChatRoomModel">
              <ownedComment xmi:id="_JTLYUf1qEeizVtFKDMb3cQ">
                <body>Model of the mini MVC</body>
              </ownedComment>
              <ownedAttribute xmi:id="_JSVq0f1qEeizVtFKDMb3cQ" name="chatroom" visibility="private" type="_JPqxUf1qEeizVtFKDMb3cQ" association="_JTgvgf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSWR4f1qEeizVtFKDMb3cQ" name="repStub" visibility="private" type="_JP2Xgf1qEeizVtFKDMb3cQ" association="_JThWkf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSWR4_1qEeizVtFKDMb3cQ" name="m2MAdpt" visibility="private" type="_JJOLEP1qEeizVtFKDMb3cQ" association="_JTh9of1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSW48f1qEeizVtFKDMb3cQ" name="userStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTiksf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSXgAf1qEeizVtFKDMb3cQ" name="m2vAdpt" visibility="private" type="_JJMV4P1qEeizVtFKDMb3cQ" association="_JTjLwf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSXgA_1qEeizVtFKDMb3cQ" name="visitor" visibility="private" type="_JQOK8f1qEeizVtFKDMb3cQ" association="_JTjy0f1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSYHEf1qEeizVtFKDMb3cQ" name="mdd" visibility="private" type="_JP9FMf1qEeizVtFKDMb3cQ" association="_JTkZ4f1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSYHEv1qEeizVtFKDMb3cQ" value="new MixedDataDictionary()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSYuIf1qEeizVtFKDMb3cQ" name="c2mAdpt" visibility="private" type="_JP1wcP1qEeizVtFKDMb3cQ" association="_JTlA8f1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSYuIv1qEeizVtFKDMb3cQ" value="new ICmd2ModelAdapter() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void addComponentFactory(Supplier&lt;Component> compFac) {&#xA;&#x9;&#x9;&#x9;m2vAdpt.addComponent(compFac.get());&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;public void displayTextMsg(String msg, String identifier) {&#xA;&#x9;&#x9;&#x9;m2vAdpt.appendString(identifier + &quot;: &quot; + msg);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public String getLocalMemberName() {&#xA;&#x9;&#x9;&#x9;try {&#xA;&#x9;&#x9;&#x9;&#x9;return userStub.getName();&#xA;&#x9;&#x9;&#x9;} catch (RemoteException e) {&#xA;&#x9;&#x9;&#x9;&#x9;e.printStackTrace();&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;return null;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;public String getLocalGroupName() {&#xA;&#x9;&#x9;&#x9;return chatroom.getName();&#xA;&#x9;&#x9;}&#xA;&#xA;&#xA;&#x9;&#x9;public void sendMessageToMember(IDataPacketData msg, IMember member) {&#xA;&#x9;&#x9;&#x9;try {&#xA;&#x9;&#x9;&#x9;&#x9;member.receiveData(new GroupDataPacket&lt;IDataPacketData>(msg, repStub));&#xA;&#x9;&#x9;&#x9;} catch (RemoteException e) {&#xA;&#x9;&#x9;&#x9;&#x9;e.printStackTrace();&#xA;&#x9;&#x9;&#x9;} &#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;/**&#xA;&#x9;&#x9; * Sends the message to the entire group that this member is in. &#xA;&#x9;&#x9; * @param msg to be sent&#xA;&#x9;&#x9; */&#xA;&#x9;&#x9;public void sendMessageToGroup(IDataPacketData msg) {&#xA;&#x9;&#x9;&#x9;for (IMember member: chatroom.getMembers()) {&#xA;&#x9;&#x9;&#x9;&#x9;this.sendMessageToMember(msg, member);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public &lt;T> T getMDDData(MixedDataKey&lt;T> key) {&#xA;&#x9;&#x9;&#x9;return mdd.get(key);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public &lt;T> void putMDDData(MixedDataKey&lt;T> key, T value) {&#xA;&#x9;&#x9;&#x9;mdd.put(key, value);&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTAZMP1qEeizVtFKDMb3cQ" name="ChatRoomModel" specification="_JRjnsP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTAZMf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTAZMv1qEeizVtFKDMb3cQ" name="adpt" type="_JJOLEP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTAZM_1qEeizVtFKDMb3cQ" name="userStub2" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTAZNP1qEeizVtFKDMb3cQ" name="_m2vAdpt" type="_JJMV4P1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTAZNf1qEeizVtFKDMb3cQ" type="_JJBWwP1qEeizVtFKDMb3cQ" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>//chatroom = room;
		// make a copy of this chatroom with UUID
		chatroom = new s(room.getName(), room.getUUID());
		// add all exisiting members to this room
		for (IMember repStub: room.getMembers()) {
			//roomCopy.addRep(repStub);
			chatroom.getMembers().add(repStub);
		}
		m2MAdpt = adpt;
		userStub = userStub2;
		m2vAdpt = _m2vAdpt;
		
		/* START OF MESSAGE HANDLING */
		ConcurrentHashMap&lt;IDataPacketID, List&lt;GroupDataPacket&lt;? extends IDataPacketData>>> cache = new ConcurrentHashMap&lt;>();
		//HashMap&lt;IDataPacketID, List&lt;GroupDataPacket&lt;T>>> cache = new HashMap&lt;>();

		/* default cmd if receive unknown */
		AMessageCmd&lt;? extends IDataPacketData> defaultcmd = new AMessageCmd&lt;>() {
			/**
			 * Serial version UID
			 */
			private static final long serialVersionUID = -2384334100397203447L;

			@Override
			public Void apply(IDataPacketID index, GroupDataPacket&lt;IDataPacketData> host, Void... params) {
				System.out.println(&quot;Default CMD fired&quot;);
			    // add this to the cached messages
			    if (cache.containsKey(host.getData().getID())) {
					cache.get(host.getData().getID()).add(host);
				} else {
					ArrayList&lt;GroupDataPacket&lt;? extends IDataPacketData>> newList = new ArrayList&lt;>();
					newList.add(host);
					cache.put(host.getData().getID(), newList);
				}
			    
			    // forward an IRequest Cmd
				IRequestCmdData data = new RequestInstruction(index);
			    GroupDataPacket&lt;IRequestCmdData> requestData = new GroupDataPacket&lt;>(data, repStub);
			    try {
					host.getSender().receiveData(requestData);
				} catch (RemoteException e) {
					statusSendingError(host.getSender());
					e.printStackTrace();
				} catch (NullPointerException e) {
					try {
						statusProcessingError(host.getSender(), index);
					} catch (RemoteException e1) {
						e1.printStackTrace();
					}
				}
			    //cache.get(index).add(host);
			    //cache.put(index, values);
				return null;
			}
		};
		defaultcmd.setCmd2ModelAdpt(this.c2mAdpt);
		this.visitor = new GroupDataPacketAlgo(defaultcmd) {
			/**
			 * 
			 */
			private static final long serialVersionUID = -1105348767997457330L;
		};
		
		/* BEGIN KNOWN MESSAGE TYPE COMMAND INSTALLATION */
		/* if receive a request cmd */
		AMessageCmd&lt;IRequestCmdData> instructCmd = new AMessageCmd&lt;IRequestCmdData> () {
			/**
			 * 
			 */
			private static final long serialVersionUID = 5137945787046283323L;

			@Override
			public Void apply(IDataPacketID index, GroupDataPacket&lt;IRequestCmdData> host, Void... params) {
				System.out.println(&quot;INSTRUCT CMD fired&quot;);
			    IRequestCmdData request = host.getData();

			    @SuppressWarnings(&quot;unchecked&quot;)
				AMessageCmd&lt;? extends IDataPacketData> cmd = (AMessageCmd&lt;? extends IDataPacketData>) visitor.getCmd(request.getRequestedCmdType());
			    Instruct data = new Instruct(request.getRequestedCmdType(), cmd);
			    //ImageCmd imgCmd = new ImageCmd(this._cmd2ModelAdpt);
				//imgCmd.setCmd2ModelAdpt(this._cmd2ModelAdpt);
//			    ImageCmd imgCmd = new ImageCmd();
//			    Instruct data = new Instruct(request.getRequestedCmdType(), imgCmd);
			    GroupDataPacket&lt;IInstallCmdData> instructData = new GroupDataPacket&lt;>(data, repStub);
			    try {
				    // check if it's already a well known message 
//				    if (imgCmd == IJoinData.GetID() || imgCmd == ILeaveData.GetID() || imgCmd == ITxtData.GetID()) {
//				    	StatusRejectionError rejection = new StatusRejectionError(host.getSender(), imgCmd);
			    	if (cmd == IJoinData.GetID() || cmd == ILeaveData.GetID() || cmd == ITxtData.GetID()) {
				    	StatusRejectionError rejection = new StatusRejectionError(host.getSender(), cmd);
						GroupDataPacket&lt;IStatusRejectionError> statusErrorDP = new GroupDataPacket&lt;>(rejection, host.getSender());
						host.getSender().receiveData(statusErrorDP);
				    }
					host.getSender().receiveData(instructData);
				} catch (RemoteException e) {
					statusSendingError(host.getSender());
					e.printStackTrace();
				} catch (NullPointerException e) {
					try {
						statusProcessingError(host.getSender(), index);
					} catch (RemoteException e1) {
						e1.printStackTrace();
					}
				}
			    return null;
			}
		};
		instructCmd.setCmd2ModelAdpt(this.c2mAdpt);
		this.visitor.setCmd(IRequestCmdData.GetID(), instructCmd);

		/* if receive an install cmd */
		AMessageCmd&lt;IInstallCmdData> processCmd = new AMessageCmd&lt;IInstallCmdData> () {
			/**
			 * 
			 */
			private static final long serialVersionUID = 8234500350390642802L;

			@Override
			public Void apply(IDataPacketID index, GroupDataPacket&lt;IInstallCmdData> host, Void... params) {
				System.out.println(&quot;PROCESS CMD fired&quot;);
			    // install the cmd from the host into visitor
				IInstallCmdData install = host.getData();
			    //AMessageCmd&lt;? extends IDataPacketData> cmd = (AMessageCmd&lt;? extends IDataPacketData>) visitor.getCmd(install.getInstallCmdType());
				AMessageCmd&lt;? extends IDataPacketData> cmd = install.getCmdToInstall();
				cmd.setCmd2ModelAdpt(c2mAdpt);
				//System.out.println(c2mAdpt);
			    visitor.setCmd(install.getInstallCmdType(), cmd);			    
			    
			    // execute all datapackets of the cmd's target type in the cache
			    //List&lt;GroupDataPacket&lt;T>> values = cache.get(install.getInstallCmdType());
			    if (cache.get(install.getInstallCmdType()) != null) {
				    for (GroupDataPacket&lt;? extends IDataPacketData> value : cache.get(install.getInstallCmdType())) {
				      value.execute(visitor);
				    }
			    }
				return null;
			}
		};
		processCmd.setCmd2ModelAdpt(this.c2mAdpt);
		this.visitor.setCmd(IInstallCmdData.GetID(), processCmd);
		
		/* join type cmd */
		//JoinDataCmd addRepCmd = new JoinDataCmd(room, this.m2vAdpt);
		AMessageCmd&lt;IJoinData> addRepCmd = new AMessageCmd&lt;IJoinData>() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 3888308243229812611L;

			@Override
			public Void apply(IDataPacketID index, GroupDataPacket&lt;IJoinData> host, Void... params) {
				if (!chatroom.getMembers().contains(host.getSender())) chatroom.getMembers().add(host.getSender());
				System.out.println(&quot;received an ADDRepMSG!&quot;);
				try {
					//System.out.println(host.getSender().getName());
					m2vAdpt.appendString(host.getSender().getName() + &quot; has just joined!&quot;);
				} catch (RemoteException e) {
					statusSendingError(host.getSender());
					e.printStackTrace();
				} catch (NullPointerException e) {
					try {
						statusProcessingError(host.getSender(), index);
					} catch (RemoteException e1) {
						e1.printStackTrace();
					}
				} 
				return null;
			}
		};
		addRepCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IJoinData.GetID(), addRepCmd);
		
		/* leave type cmd */
		//LeaveDataCmd removeRepCmd = new LeaveDataCmd(room, this.m2vAdpt);
		AMessageCmd&lt;ILeaveData> removeRepCmd = new AMessageCmd&lt;ILeaveData>() {

			/**
			 * 
			 */
			private static final long serialVersionUID = -1465383693939998356L;

			@Override
			public Void apply(IDataPacketID index, GroupDataPacket&lt;ILeaveData> host, Void... params) {
				chatroom.getMembers().remove(host.getSender());
				try {
					m2vAdpt.appendString(host.getSender().getName() + &quot; has just left!&quot;);
				} catch (RemoteException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
				return null;
			}
			
		};
		removeRepCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(ILeaveData.GetID(), removeRepCmd);
		
		/* status sending error cmd */
		StatusSendingErrorCmd statusSendingErrorCmd = new StatusSendingErrorCmd(room);
		statusSendingErrorCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IStatusSendingError.GetID(), statusSendingErrorCmd);
		
		/* status rejection error cmd */
		StatusRejectionErrorCmd statusRejectionErrorCmd = new StatusRejectionErrorCmd(room);
		statusRejectionErrorCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IStatusRejectionError.GetID(), statusRejectionErrorCmd);
		
		/* status processing error cmd */
		StatusProcessingErrorCmd statusProcessingErrorCmd = new StatusProcessingErrorCmd(room);
		statusProcessingErrorCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IStatusProcessingError.GetID(), statusProcessingErrorCmd);
		
		/* text type cmd */
		TextDataCmd textCmd = new TextDataCmd();
		textCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(ITxtData.GetID(), textCmd);
		
		/* image type cmd */
		ImageCmd imgCmd = new ImageCmd();
		imgCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IImageData.GetID(), imgCmd);
		
		/* Sync cmd */
		UpdateMemberListAddCmd updateAddCmd = new UpdateMemberListAddCmd();
		updateAddCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IUpdateMemberListAddData.GetID(), updateAddCmd);
		
		UpdateMemberListRemoveCmd updateRemoveCmd = new UpdateMemberListRemoveCmd();
		updateRemoveCmd.setCmd2ModelAdpt(this.c2mAdpt);
		visitor.setCmd(IUpdateMemberListRemoveData.GetID(), updateRemoveCmd);
		
		
		/* End of Visitor Initialization */
		
		/* END OF MESSAGE HANDLING */
		
		/* START of member stub initialization */
		IMember rep = new Member(room, userStub, c2mAdpt, visitor);
		System.out.println(&quot;[ChatRoomModel.sendMsg 1] ChatRoom has: &quot; + chatroom.getMembers().size() + &quot; reps&quot;);
		try {
			repStub = (IMember) UnicastRemoteObject.exportObject(rep, IRMI_Defs.STUB_PORT_CLIENT);
		} catch (RemoteException e) {
			e.printStackTrace();
		}
		// add this member stub to the chatroom
		chatroom.getMembers().add(repStub);
		// broadcast an IJoinData msg to everyone
		IJoinData data = new JoinData(repStub);
		GroupDataPacket&lt;IJoinData> msg = new GroupDataPacket&lt;>(data, repStub);
		chatroom.sendMsgToAll(msg);
//		// add this member stub to the chatroom
//		chatroom.getMembers().add(repStub);
		// add this chatroom to user
//		try {
//			userStub.getChatRooms().add(chatroom);
//		} catch (RemoteException e1) {
//			// TODO Auto-generated catch block
//			e1.printStackTrace();
//		}
		System.out.println(&quot;[ChatRoomModel.sendMsg 2] ChatRoom has: &quot; + chatroom.getMembers().size() + &quot; reps&quot;);
		//System.out.println(&quot;ChatRoomModel Debug 1&quot;);
		m2MAdpt.addRoom2User(chatroom);
		//System.out.println(&quot;ChatRoomModel End of member creation&quot;);
		/* END of member stub creation */
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTAZNv1qEeizVtFKDMb3cQ" name="broadcastMessage" specification="_JRkOxP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTAZN_1qEeizVtFKDMb3cQ" name="DP" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>chatroom.sendMsgToAll(DP);
		
		//repStub.getRoom().broadcast(DP);
//		IRepresentative sender = D.getSender();
//		try {
//			receiver.receiveMessage(D);
//		} catch (RemoteException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTAZOP1qEeizVtFKDMb3cQ" name="sendText" specification="_JJFBIP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTAZOf1qEeizVtFKDMb3cQ" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Make a DataPacket for IText
		ITxtData ITextData = new TextData(msg);
		GroupDataPacket&lt;ITxtData> dp = new GroupDataPacket&lt;>(ITextData, repStub);
		try {
			this.broadcastMessage(dp);
		} catch (RemoteException e) {
			e.printStackTrace();
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTAZOv1qEeizVtFKDMb3cQ" name="sendImage" specification="_JJFBIv1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTAZO_1qEeizVtFKDMb3cQ" name="imgPath">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Make an IImageData DataPacket
		//java.net.URL imgURL = getClass().statgetResource(imgPath);
		//java.net.URL imgURL = getClass().getResource(&quot;images/Earth.png&quot;);		
		//Image img = Toolkit.getDefaultToolkit().getImage(this.getClass().getResource(&quot;images/Earth.png&quot;));
		//Image img = Toolkit.getDefaultToolkit().getImage(this.getClass().getResource(&quot;rice.jpg&quot;));
		//ImageIcon icon = new ImageIcon(imgURL, &quot;An image from team Michelle and Rocky!&quot;);
		
		Image img = Toolkit.getDefaultToolkit().getImage(this.getClass().getResource(&quot;images/FIFA_Soccer_Ball.png&quot;));
		ImageIcon icon = new ImageIcon(img, &quot;An image from team Michelle and Rocky!&quot;);
		//JLabel label = new JLabel(icon);
		//JButton label = new JButton(&quot;TETSTSTSTTSTS!&quot;);
		//m2vAdpt.addComponent(label);
		IImageData data = new ImageData(icon);
//		IImageData data = new IImageData() {
//
//			/**
//			 * 
//			 */
//			private static final long serialVersionUID = 1415069487638508263L;
//
//			@Override
//			public Component getImageComponent() {
//				// TODO Auto-generated method stub
//				return new JLabel(icon);
//			}
//		};
		GroupDataPacket&lt;IImageData> dp = new GroupDataPacket&lt;>(data, repStub);
		try {
			this.broadcastMessage(dp);
		} catch (RemoteException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBAQP1qEeizVtFKDMb3cQ" name="sendMap" specification="_JJFoMP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>//Image img = Toolkit.getDefaultToolkit().getImage(this.getClass().getResource(&quot;images/FIFA_Soccer_Ball.png&quot;));
		//ImageIcon icon = new ImageIcon(img, &quot;An image from team Michelle and Rocky!&quot;);
		//JLabel label = new JLabel(icon);
		//JButton label = new JButton(&quot;TETSTSTSTTSTS!&quot;);
		//m2vAdpt.addComponent(label);
		IMapData data = new MapData();
		GroupDataPacket&lt;IMapData> dp = new GroupDataPacket&lt;>(data, repStub);
		try {
			this.broadcastMessage(dp);
		} catch (RemoteException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBAQf1qEeizVtFKDMb3cQ" name="removeRoomfromList" specification="_JJFoMf1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>// TODO Auto-generated method stub
		m2MAdpt.removeRoomFromMainList(chatroom);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBAQv1qEeizVtFKDMb3cQ" name="leaveRoom" specification="_JJFoMv1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>// TODO broadcast an IRemoveRep message to all members in this room, i.e DataPacket&lt;IRemoveRep, IRep>
		chatroom.getMembers().remove(repStub);
		//chatroom.deleteRep(repStub);
		
		// remove this rep locally first
		LeaveData data = new LeaveData(repStub);
		// then tell every rep in the room to remove this user from the chatroom
		GroupDataPacket&lt;ILeaveData> leaveMsg = new GroupDataPacket&lt;>(data, repStub);
		chatroom.sendMsgToAll(leaveMsg);
		
		//((User) user).removeRep(repStub);
		//((RemoteConnection) user).removeRoom(chatroom);
		//userStub.getChatRooms().remove(chatroom);
		m2MAdpt.removeRoom4User(chatroom);
		m2MAdpt.removeRoomFromMainList(chatroom);
		// tell main view to remove this room's view, also remove this room from user's list
		m2MAdpt.removeRoomFromMainView(chatroom);		
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBAQ_1qEeizVtFKDMb3cQ" name="getRoom" specification="_JJGPQP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTBARP1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>return chatroom;</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBARf1qEeizVtFKDMb3cQ" name="statusSendingError" specification="_JRlc4f1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTBARv1qEeizVtFKDMb3cQ" name="rep" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>System.err.println(&quot;ChatRoomModel Debug: failed status sending error.&quot;);

		// remove mem from your local chatroom copy
		chatroom.getMembers().remove(rep);
		
		// send IStatusError to all other reps
		StatusSendingError data = new StatusSendingError(rep);
		GroupDataPacket&lt;IStatusSendingError> statusSendingErrorDP = new GroupDataPacket&lt;>(data, rep);
		chatroom.sendMsgToAll(statusSendingErrorDP);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBnUP1qEeizVtFKDMb3cQ" name="statusProcessingError" specification="_JRmD8P1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTBnUf1qEeizVtFKDMb3cQ" name="rep" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTBnUv1qEeizVtFKDMb3cQ" name="id" type="_JQdbgP1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>System.err.println(&quot;ChatRoomModel Debug: failed status processing error.&quot;);
		
		// send IStatusProcessingError to sender
		StatusProcessingError data = new StatusProcessingError(rep, id);
		GroupDataPacket&lt;IStatusProcessingError> statusProcessingErrorDP = new GroupDataPacket&lt;>(data, rep);
		rep.receiveData(statusProcessingErrorDP);
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JJDzAP1qEeizVtFKDMb3cQ" name="start"/>
              <ownedOperation xmi:id="_JJFBIP1qEeizVtFKDMb3cQ" name="sendText" method="_JTAZOP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYVP1qEeizVtFKDMb3cQ">
                  <body>Send text to member(s)
	 * @param msg The text to send</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJFBIf1qEeizVtFKDMb3cQ" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JJFBIv1qEeizVtFKDMb3cQ" name="sendImage" method="_JTAZOv1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYVf1qEeizVtFKDMb3cQ">
                  <body>Send an image
	 * @param imgPath The file path of the image</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJFBI_1qEeizVtFKDMb3cQ" name="imgPath">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JJFoMP1qEeizVtFKDMb3cQ" name="sendMap" method="_JTBAQP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYVv1qEeizVtFKDMb3cQ">
                  <body>Send an image</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJFoMf1qEeizVtFKDMb3cQ" name="removeRoomfromList" method="_JTBAQf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYV_1qEeizVtFKDMb3cQ">
                  <body>Remove the room from the list of room</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJFoMv1qEeizVtFKDMb3cQ" name="leaveRoom" method="_JTBAQv1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYWP1qEeizVtFKDMb3cQ">
                  <body>Leave current room
	 * @throws RemoteException -- exception for leaving the room</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJGPQP1qEeizVtFKDMb3cQ" name="getRoom" method="_JTBAQ_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYWf1qEeizVtFKDMb3cQ">
                  <body>Gets the room you are in.
	 * @return The chat room</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRlc4P1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRjnsP1qEeizVtFKDMb3cQ" name="ChatRoomModel" method="_JTAZMP1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JRkOwf1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JRkOwv1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTLYUv1qEeizVtFKDMb3cQ">
                  <body>@param room -- the room for this mini-model
	 * @param adpt -- the mini to main adapter
	 * @param userStub2 -- the user's stub
	 * @param _m2vAdpt -- the model to view adapter</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRjnsf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRjnsv1qEeizVtFKDMb3cQ" name="adpt" type="_JJOLEP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRjns_1qEeizVtFKDMb3cQ" name="userStub2" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRkOwP1qEeizVtFKDMb3cQ" name="_m2vAdpt" type="_JJMV4P1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRkOw_1qEeizVtFKDMb3cQ" type="_JJBWwP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRkOxP1qEeizVtFKDMb3cQ" name="broadcastMessage" method="_JTAZNv1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYU_1qEeizVtFKDMb3cQ">
                  <body>Send message to everyone in chat room 
	 * @param DP Packet to send 
	 * @throws RemoteException -- remote excpetion when broadcasting a message</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRk10P1qEeizVtFKDMb3cQ" name="DP" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRlc4f1qEeizVtFKDMb3cQ" name="statusSendingError" visibility="private" method="_JTBARf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTLYWv1qEeizVtFKDMb3cQ">
                  <body>Helper method for status sending errors.
	 * @param rep The member that needs to be removed.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRlc4v1qEeizVtFKDMb3cQ" name="rep" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRmD8P1qEeizVtFKDMb3cQ" name="statusProcessingError" visibility="private" method="_JTBnUP1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTL_YP1qEeizVtFKDMb3cQ">
                  <body>Helper method for status processing errors.
	 * @param rep The member that sent the message.
	 * @param id The ID of the faulty message.
	 * @throws RemoteException -- exepction for status error</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRmD8f1qEeizVtFKDMb3cQ" name="rep" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JRmD8v1qEeizVtFKDMb3cQ" name="id" type="_JQdbgP1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JJMV4P1qEeizVtFKDMb3cQ" name="IChatRoomModel2ViewAdapter">
              <ownedComment xmi:id="_JTL_Yf1qEeizVtFKDMb3cQ">
                <body>The adapter from the mini model to view</body>
              </ownedComment>
              <ownedOperation xmi:id="_JJM88P1qEeizVtFKDMb3cQ" name="appendString">
                <ownedParameter xmi:id="_JJNkAP1qEeizVtFKDMb3cQ" name="t">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JRn5IP1qEeizVtFKDMb3cQ" name="addComponent">
                <ownedParameter xmi:id="_JRn5If1qEeizVtFKDMb3cQ" name="comp" type="_JPmf4P1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JJOLEP1qEeizVtFKDMb3cQ" name="IMini2MainAdapter">
              <ownedComment xmi:id="_JTL_Yv1qEeizVtFKDMb3cQ">
                <body>The adapter from the mini to main adapter</body>
              </ownedComment>
              <ownedOperation xmi:id="_JRogMP1qEeizVtFKDMb3cQ" name="removeRoomFromMainView">
                <ownedParameter xmi:id="_JRogMf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRogMv1qEeizVtFKDMb3cQ" name="addRoom2User">
                <ownedParameter xmi:id="_JRogM_1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRpHQP1qEeizVtFKDMb3cQ" name="removeRoom4User">
                <ownedParameter xmi:id="_JRpHQf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRpHQv1qEeizVtFKDMb3cQ" name="removeRoomFromMainList">
                <ownedParameter xmi:id="_JRpHQ_1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTgvgf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTgvgv1qEeizVtFKDMb3cQ _JSVq0f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTgvgv1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTgvgf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JThWkf1qEeizVtFKDMb3cQ" name="" memberEnd="_JThWkv1qEeizVtFKDMb3cQ _JSWR4f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JThWkv1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JThWkf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTh9of1qEeizVtFKDMb3cQ" name="" memberEnd="_JTh9ov1qEeizVtFKDMb3cQ _JSWR4_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTh9ov1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTh9of1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTiksf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTiksv1qEeizVtFKDMb3cQ _JSW48f1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTiksv1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTiksf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTjLwf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTjLwv1qEeizVtFKDMb3cQ _JSXgAf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTjLwv1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTjLwf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTjy0f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTjy0v1qEeizVtFKDMb3cQ _JSXgA_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTjy0v1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTjy0f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTkZ4f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTkZ4v1qEeizVtFKDMb3cQ _JSYHEf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTkZ4v1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTkZ4f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTlA8f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTlA8v1qEeizVtFKDMb3cQ _JSYuIf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTlA8v1qEeizVtFKDMb3cQ" name="" type="_JJBWwP1qEeizVtFKDMb3cQ" association="_JTlA8f1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_JFoEgf1qEeizVtFKDMb3cQ" name="view">
            <packagedElement xmi:type="uml:Class" xmi:id="_JJPZMP1qEeizVtFKDMb3cQ" name="ChatRoomView">
              <ownedComment xmi:id="_JTL_Y_1qEeizVtFKDMb3cQ">
                <body>View of the chat room</body>
              </ownedComment>
              <generalization xmi:id="_JRq8cv1qEeizVtFKDMb3cQ" general="_JQmlc_1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSZVMP1qEeizVtFKDMb3cQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSZVMf1qEeizVtFKDMb3cQ" value="5925793743594080359L"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSZ8QP1qEeizVtFKDMb3cQ" name="v2mAdpt" visibility="private" type="_JJXVAP1qEeizVtFKDMb3cQ" association="_JTloAf1qEeizVtFKDMb3cQ"/>
              <ownedAttribute xmi:id="_JSZ8Qv1qEeizVtFKDMb3cQ" name="mainPanel" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTm2IP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSajUP1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSajUv1qEeizVtFKDMb3cQ" name="controlPanel" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTndMP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSajU_1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSbKYf1qEeizVtFKDMb3cQ" name="displayPanel" visibility="private" isLeaf="true" type="_JQnMgf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTndM_1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSbKYv1qEeizVtFKDMb3cQ" value="new JScrollPane()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSbxcf1qEeizVtFKDMb3cQ" name="textAreaRoom" visibility="private" isLeaf="true" type="_JQoaof1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JToEQf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSbxcv1qEeizVtFKDMb3cQ" value="new JTextArea(15,25)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JScYgP1qEeizVtFKDMb3cQ" name="panelText" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTorUf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JScYgf1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSc_kP1qEeizVtFKDMb3cQ" name="textField" visibility="private" isLeaf="true" type="_JQpBsf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTpSYf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSc_kf1qEeizVtFKDMb3cQ" value="new JTextField()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSdmoP1qEeizVtFKDMb3cQ" name="btnSendMsg" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTqggP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSdmof1qEeizVtFKDMb3cQ" value="new JButton(&quot;Send Msg&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSeNsf1qEeizVtFKDMb3cQ" name="panelMessage" visibility="private" isLeaf="true" type="_JQmlc_1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTrHkf1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSeNsv1qEeizVtFKDMb3cQ" value="new JPanel()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSe0wP1qEeizVtFKDMb3cQ" name="btnLeave" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTruof1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSe0wf1qEeizVtFKDMb3cQ" value="new JButton(&quot;Leave Room&quot;)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_JSe0w_1qEeizVtFKDMb3cQ" name="btnSendUnknown" visibility="private" isLeaf="true" type="_JQmlcf1qEeizVtFKDMb3cQ" isReadOnly="true" association="_JTsVsP1qEeizVtFKDMb3cQ">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSfb0P1qEeizVtFKDMb3cQ" value="new JButton(&quot;Send Unknown Image&quot;)"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTBnU_1qEeizVtFKDMb3cQ" name="ChatRoomView" specification="_JQq24P1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTCOYP1qEeizVtFKDMb3cQ" name="adpt" type="_JJXVAP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JTCOYf1qEeizVtFKDMb3cQ" type="_JJPZMP1qEeizVtFKDMb3cQ" direction="return"/>
                <language>java</language>
                <body>this.v2mAdpt = adpt;
		initGUI();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTCOYv1qEeizVtFKDMb3cQ" name="start" specification="_JJR1cP1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>setVisible(true);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTCOY_1qEeizVtFKDMb3cQ" name="initGUI" specification="_JJR1cf1qEeizVtFKDMb3cQ">
                <language>java</language>
                <body>//setSize(200, 200);
		mainPanel.setLayout(new FlowLayout());
		add(mainPanel, BorderLayout.CENTER);
		mainPanel.add(displayPanel);
		mainPanel.add(controlPanel);		
		
		/* Display Panel */
		//displayPanel.setViewportView(textAreaRoom);
		displayPanel.setViewportView(panelText);
		panelText.add(textAreaRoom);
		//panelText.setLayout(mgr);

		/* Messaging Panels */
		controlPanel.setLayout(new GridLayout(3, 1));
//		controlPanel.add(panelUser);
//		panelUser.setLayout(new BorderLayout(0, 0));
//		textFieldUser.setColumns(10);
//		panelUser.add(textFieldUser, BorderLayout.CENTER);
//		panelUser.add(btnUserName, BorderLayout.SOUTH);
		
//		controlPanel.add(panelList);
//		panelList.setLayout(new BorderLayout(0, 0));
//		textField.setColumns(10);
//		panelList.add(textField, BorderLayout.CENTER);
//		btnAddToList.addActionListener(new ActionListener() {
//			public void actionPerformed(ActionEvent e) {
//				TTextDropListItem text = v2mAdpt.addText(textField.getText());
//				dropListMessage.addItem(text);
//			}
//		});
//		panelList.add(btnAddToList, BorderLayout.SOUTH);
		
		controlPanel.add(panelMessage);
		panelMessage.setLayout(new BorderLayout(0, 0));
		textField.setColumns(10);
		panelMessage.add(textField, BorderLayout.NORTH);

//		panelMessage.add(dropListMessage, BorderLayout.CENTER);
		
		btnSendUnknown.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				v2mAdpt.sendImage(textField.getText());
				//v2mAdpt.sendMap();
			}
		});
		btnSendUnknown.setToolTipText(&quot;Send unknown message.&quot;);
		panelMessage.add(btnSendUnknown, BorderLayout.SOUTH);
		
		panelMessage.add(btnSendMsg, BorderLayout.CENTER);
		btnSendMsg.setToolTipText(&quot;Send message to chatroom.&quot;);
		btnSendMsg.addActionListener(e -> {
			v2mAdpt.sendText(textField.getText());
			//v2mAdpt.sendText(dropListMessage.getItemAt(dropListMessage.getSelectedIndex()));
		});
//		btnSendMsg.addActionListener(e -> {
//			v2mAdpt.sendText(textField.getText());
//		});
		controlPanel.add(btnLeave);
		btnLeave.addActionListener(e -> {
			v2mAdpt.leaveRoom();
			v2mAdpt.removeRoomfromList();
		});
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTCOZP1qEeizVtFKDMb3cQ" name="sendMsg" specification="_JJScgP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTCOZf1qEeizVtFKDMb3cQ" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>//System.out.println(&quot;Chatroom view debug 1&quot;);
		textAreaRoom.append(msg + &quot;\n&quot;);
		//JLabel label = new JLabel(msg);
		//panelText.add(label);
		//panelText.revalidate();
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTCOZv1qEeizVtFKDMb3cQ" name="addComponent" specification="_JRq8cP1qEeizVtFKDMb3cQ">
                <ownedParameter xmi:id="_JTCOZ_1qEeizVtFKDMb3cQ" name="component" type="_JPmf4P1qEeizVtFKDMb3cQ"/>
                <language>java</language>
                <body>//panelText.add(component);
		//panelText.revalidate();
		JFrame messageFrame = new JFrame(&quot;New GUI Component&quot;);
		messageFrame.getContentPane().add(component);
		messageFrame.setPreferredSize(new Dimension(600, 600));
		messageFrame.pack();
		messageFrame.setLocationRelativeTo(null);
		messageFrame.setVisible(true);
		
		// new code suggested by Dr.Wong
		messageFrame.validate();
		messageFrame.repaint();
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_JJR1cP1qEeizVtFKDMb3cQ" name="start" method="_JTCOYv1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTL_Zf1qEeizVtFKDMb3cQ">
                  <body>Starts the view</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJR1cf1qEeizVtFKDMb3cQ" name="initGUI" visibility="private" method="_JTCOY_1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTL_Zv1qEeizVtFKDMb3cQ">
                  <body>Initializes the view.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJScgP1qEeizVtFKDMb3cQ" name="sendMsg" method="_JTCOZP1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTL_Z_1qEeizVtFKDMb3cQ">
                  <body>Send a message
	 * @param msg The message to send</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJScgf1qEeizVtFKDMb3cQ" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JQq24P1qEeizVtFKDMb3cQ" name="ChatRoomView" method="_JTBnU_1qEeizVtFKDMb3cQ">
                <eAnnotations xmi:id="_JQq24v1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_JQq24_1qEeizVtFKDMb3cQ" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_JTL_ZP1qEeizVtFKDMb3cQ">
                  <body>Constructor
	 * @param adpt IChatRoomView2ModelAdapter</body>
                </ownedComment>
                <ownedParameter xmi:id="_JQq24f1qEeizVtFKDMb3cQ" name="adpt" type="_JJXVAP1qEeizVtFKDMb3cQ"/>
                <ownedParameter xmi:id="_JQq25P1qEeizVtFKDMb3cQ" type="_JJPZMP1qEeizVtFKDMb3cQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_JRq8cP1qEeizVtFKDMb3cQ" name="addComponent" method="_JTCOZv1qEeizVtFKDMb3cQ">
                <ownedComment xmi:id="_JTL_aP1qEeizVtFKDMb3cQ">
                  <body>Add GUI component
	 * @param component The component to add</body>
                </ownedComment>
                <ownedParameter xmi:id="_JRq8cf1qEeizVtFKDMb3cQ" name="component" type="_JPmf4P1qEeizVtFKDMb3cQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JJXVAP1qEeizVtFKDMb3cQ" name="IChatRoomView2ModelAdapter">
              <ownedComment xmi:id="_JTMmcP1qEeizVtFKDMb3cQ">
                <body>View2ModelAdapter for the mini MVC chatroom.</body>
              </ownedComment>
              <ownedOperation xmi:id="_JJX8EP1qEeizVtFKDMb3cQ" name="leaveRoom">
                <ownedComment xmi:id="_JTMmcf1qEeizVtFKDMb3cQ">
                  <body>Leave chatroom.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_JJYjIP1qEeizVtFKDMb3cQ" name="sendText">
                <ownedComment xmi:id="_JTMmcv1qEeizVtFKDMb3cQ">
                  <body>Sends a string
	 * @param text The text to send.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJYjIf1qEeizVtFKDMb3cQ" name="text">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JJZKMP1qEeizVtFKDMb3cQ" name="sendImage">
                <ownedComment xmi:id="_JTMmc_1qEeizVtFKDMb3cQ">
                  <body>Sends an image
	 * @param path The image to send.</body>
                </ownedComment>
                <ownedParameter xmi:id="_JJZKMf1qEeizVtFKDMb3cQ" name="path">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_JJZKMv1qEeizVtFKDMb3cQ" name="removeRoomfromList">
                <ownedComment xmi:id="_JTMmdP1qEeizVtFKDMb3cQ">
                  <body>Remove room from list of rooms you're in.</body>
                </ownedComment>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTloAf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTloAv1qEeizVtFKDMb3cQ _JSZ8QP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTloAv1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTloAf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTm2IP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTm2If1qEeizVtFKDMb3cQ _JSZ8Qv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTm2If1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTm2IP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTndMP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTndMf1qEeizVtFKDMb3cQ _JSajUv1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTndMf1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTndMP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTndM_1qEeizVtFKDMb3cQ" name="" memberEnd="_JTndNP1qEeizVtFKDMb3cQ _JSbKYf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTndNP1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTndM_1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JToEQf1qEeizVtFKDMb3cQ" name="" memberEnd="_JToEQv1qEeizVtFKDMb3cQ _JSbxcf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JToEQv1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JToEQf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTorUf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTorUv1qEeizVtFKDMb3cQ _JScYgP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTorUv1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTorUf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTpSYf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTpSYv1qEeizVtFKDMb3cQ _JSc_kP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTpSYv1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTpSYf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTqggP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTqggf1qEeizVtFKDMb3cQ _JSdmoP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTqggf1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTqggP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTrHkf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTrHkv1qEeizVtFKDMb3cQ _JSeNsf1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTrHkv1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTrHkf1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTruof1qEeizVtFKDMb3cQ" name="" memberEnd="_JTruov1qEeizVtFKDMb3cQ _JSe0wP1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTruov1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTruof1qEeizVtFKDMb3cQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_JTsVsP1qEeizVtFKDMb3cQ" name="" memberEnd="_JTsVsf1qEeizVtFKDMb3cQ _JSe0w_1qEeizVtFKDMb3cQ">
              <ownedEnd xmi:id="_JTsVsf1qEeizVtFKDMb3cQ" name="" type="_JJPZMP1qEeizVtFKDMb3cQ" association="_JTsVsP1qEeizVtFKDMb3cQ"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_JFoEgv1qEeizVtFKDMb3cQ" name="util">
          <packagedElement xmi:type="uml:Class" xmi:id="_JIz7YP1qEeizVtFKDMb3cQ" name="ClientRemoteConnectionWrapper">
            <ownedComment xmi:id="_JTKKNP1qEeizVtFKDMb3cQ">
              <body>Wrapper around the remote connection</body>
            </ownedComment>
            <ownedAttribute xmi:id="_JSUcsP1qEeizVtFKDMb3cQ" name="remoteConnectionStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTeTQf1qEeizVtFKDMb3cQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_LEP1qEeizVtFKDMb3cQ" name="ClientRemoteConnectionWrapper" specification="_JRc6AP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JS_LEf1qEeizVtFKDMb3cQ" name="iRemoteConnection" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JS_LEv1qEeizVtFKDMb3cQ" type="_JIz7YP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>this.remoteConnectionStub = iRemoteConnection;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_LE_1qEeizVtFKDMb3cQ" name="getUser" specification="_JI1JgP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JS_LFP1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>return this.remoteConnectionStub;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JS_LFf1qEeizVtFKDMb3cQ" name="toString" specification="_JI1Jgf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JS_LFv1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>String name = &quot;unknown user&quot;;
		try {
			name = remoteConnectionStub.getName();
		} catch (RemoteException e) {
			e.printStackTrace();
		}
		return name;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_JI1JgP1qEeizVtFKDMb3cQ" name="getUser" method="_JS_LE_1qEeizVtFKDMb3cQ">
              <ownedComment xmi:id="_JTKKNv1qEeizVtFKDMb3cQ">
                <body>Gets the user of the remote connection stub
	 * @return The remote connection user</body>
              </ownedComment>
              <ownedParameter xmi:id="_JRdhEP1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JI1Jgf1qEeizVtFKDMb3cQ" name="toString" method="_JS_LFf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JI1wkP1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JRc6AP1qEeizVtFKDMb3cQ" name="ClientRemoteConnectionWrapper" method="_JS_LEP1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JRc6Av1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JRc6A_1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTKKNf1qEeizVtFKDMb3cQ">
                <body>Constructor
	 * @param iRemoteConnection The remote connection stub</body>
              </ownedComment>
              <ownedParameter xmi:id="_JRc6Af1qEeizVtFKDMb3cQ" name="iRemoteConnection" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JRc6BP1qEeizVtFKDMb3cQ" type="_JIz7YP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_JJZxQP1qEeizVtFKDMb3cQ" name="ChatRoomWrapper">
            <ownedComment xmi:id="_JTMmdf1qEeizVtFKDMb3cQ">
              <body>Wrapper around the chat room</body>
            </ownedComment>
            <ownedAttribute xmi:id="_JSfb0v1qEeizVtFKDMb3cQ" name="chatroom" visibility="private" type="_JPqxUf1qEeizVtFKDMb3cQ" association="_JTs8wf1qEeizVtFKDMb3cQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTC1cP1qEeizVtFKDMb3cQ" name="ChatRoomWrapper" specification="_JRtYsP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTC1cf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTC1cv1qEeizVtFKDMb3cQ" type="_JJZxQP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>chatroom = room;</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTC1c_1qEeizVtFKDMb3cQ" name="getRoom" specification="_JJaYUP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTC1dP1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>return chatroom;</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTC1df1qEeizVtFKDMb3cQ" name="toString" specification="_JJa_YP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTC1dv1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>String name = &quot;unknown user&quot;;
		try {
			name = chatroom.getName();
		} catch (Exception e) {
			e.printStackTrace();
		}
		return name;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_JJaYUP1qEeizVtFKDMb3cQ" name="getRoom" method="_JTC1c_1qEeizVtFKDMb3cQ">
              <ownedComment xmi:id="_JTMmd_1qEeizVtFKDMb3cQ">
                <body>Gets the chat room
	 * @return the Chat room</body>
              </ownedComment>
              <ownedParameter xmi:id="_JRtYtf1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JJa_YP1qEeizVtFKDMb3cQ" name="toString" method="_JTC1df1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JJbmcP1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JRtYsP1qEeizVtFKDMb3cQ" name="ChatRoomWrapper" method="_JTC1cP1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JRtYsv1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JRtYs_1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTMmdv1qEeizVtFKDMb3cQ">
                <body>Constructor
	 * @param room Chat room</body>
              </ownedComment>
              <ownedParameter xmi:id="_JRtYsf1qEeizVtFKDMb3cQ" name="room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JRtYtP1qEeizVtFKDMb3cQ" type="_JJZxQP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_JJdboP1qEeizVtFKDMb3cQ" name="s">
            <ownedComment xmi:id="_JTNNgP1qEeizVtFKDMb3cQ">
              <body>Chatroom</body>
            </ownedComment>
            <ownedAttribute xmi:id="_JSgC4f1qEeizVtFKDMb3cQ" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_JSgC4v1qEeizVtFKDMb3cQ" value="-1781552770450864113L"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_JSgC4_1qEeizVtFKDMb3cQ" name="name" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_JSh4Ev1qEeizVtFKDMb3cQ" name="ID" visibility="private" type="_JPwQ4f1qEeizVtFKDMb3cQ" association="_JTtj0P1qEeizVtFKDMb3cQ"/>
            <ownedAttribute xmi:id="_JSifIf1qEeizVtFKDMb3cQ" name="reps" visibility="private" type="_JP2Xgf1qEeizVtFKDMb3cQ" isOrdered="true" association="_JTtj0_1qEeizVtFKDMb3cQ">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JSifIv1qEeizVtFKDMb3cQ" value="*"/>
            </ownedAttribute>
            <interfaceRealization xmi:id="_JRt_wP1qEeizVtFKDMb3cQ" client="_JJdboP1qEeizVtFKDMb3cQ" supplier="_JPqxUf1qEeizVtFKDMb3cQ" contract="_JPqxUf1qEeizVtFKDMb3cQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTDcgf1qEeizVtFKDMb3cQ" name="ChatRoom" specification="_JJepwP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTDcgv1qEeizVtFKDMb3cQ" name="roomname">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JTDcg_1qEeizVtFKDMb3cQ" type="_JJdboP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>this(roomname, UUID.randomUUID());
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTDchP1qEeizVtFKDMb3cQ" name="ChatRoom" specification="_JRum0P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTDchf1qEeizVtFKDMb3cQ" name="roomname">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JTDchv1qEeizVtFKDMb3cQ" name="id" type="_JPwQ4f1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTDch_1qEeizVtFKDMb3cQ" type="_JJdboP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>this.name = roomname;
		this.ID = id;
		this.reps = new ArrayList&lt;>();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTDciP1qEeizVtFKDMb3cQ" name="getUUID" specification="_JJf34P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTDcif1qEeizVtFKDMb3cQ" type="_JPwQ4f1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>return ID;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTDciv1qEeizVtFKDMb3cQ" name="sendMsgToAll" specification="_JRvN4f1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTDci_1qEeizVtFKDMb3cQ" name="dp" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>ArrayList&lt;IMember> repClone = new ArrayList&lt;>();
		for (IMember member : reps) repClone.add(member);
		// spawn a new thread to handle the actual transmission, thus freeing
		// this thread to return.
		(new Thread(() -> {
				// Send the data packet to the chat room
				for (IMember rep : repClone) {
				try {
					//System.out.println(&quot;Hello&quot;);
					//System.out.println(&quot;ChatRoom has: &quot; + reps.size() + &quot;reps, including &quot; + rep.getUserName());
					//rep.toString();
					rep.receiveData(dp);
					System.out.println(&quot;ChatRoom debug 2&quot;);
				} catch (RemoteException e) {
					//System.out.println(&quot;a bug?&quot;);
					// remove mem from your local chatroom copy
					reps.remove(rep);
					
					// send IStatusError to all other reps
					StatusSendingError data = new StatusSendingError(rep);
					GroupDataPacket&lt;IStatusSendingError> statusErrorDP = new GroupDataPacket&lt;>(data, rep);
					this.sendMsgToAll(statusErrorDP);
					
					System.out.println(&quot;ChatRoom Debug: broadcast failed.&quot;+ e.getCause());
					e.printStackTrace();
				}
		}	
				// process the returned value...
			})).start(); // start the new thread
//		(new Thread() {
//		      public void run() {
//		        super.run();
//		        repClone.iterator().forEachRemaining((r) -> {
//		          try {
//		            r.receiveData(dp);
//		          } catch (RemoteException e) {
//						e.printStackTrace();
//		          }
//		        });
//		      }
//		    }).start();

//		System.out.println(&quot;ChatRoom has: &quot; + reps.size() + &quot;reps&quot;);
//		for (IMember rep : repClone) {
//			try {
//				//System.out.println(&quot;Hello&quot;);
//				//System.out.println(&quot;ChatRoom has: &quot; + reps.size() + &quot;reps, including &quot; + rep.getUserName());
//				//rep.toString();
//				rep.receiveData(dp);
//				System.out.println(&quot;ChatRoom debug 2&quot;);
//			} catch (RemoteException e) {
//				//System.out.println(&quot;a bug?&quot;);
//				// remove mem from your local chatroom copy
//				reps.remove(rep);
//				
//				// send IStatusError to all other reps
//				StatusSendingError data = new StatusSendingError(rep);
//				ChatroomDataPacket&lt;IStatusSendingError> statusErrorDP = new ChatroomDataPacket&lt;>(data, rep);
//				this.sendMsgToAll(statusErrorDP);
//				
//				System.out.println(&quot;ChatRoom Debug: broadcast failed.&quot;+ e.getCause());
//				e.printStackTrace();
//			}
//		}	
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTDcjP1qEeizVtFKDMb3cQ" name="getMembers" specification="_JJge8v1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTDcjf1qEeizVtFKDMb3cQ" type="_JP2Xgf1qEeizVtFKDMb3cQ" isOrdered="true" direction="return">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JTDcjv1qEeizVtFKDMb3cQ" value="*"/>
              </ownedParameter>
              <language>java</language>
              <body>return reps;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEDkP1qEeizVtFKDMb3cQ" name="toString" specification="_JJhtEv1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEDkf1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return name;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEDkv1qEeizVtFKDMb3cQ" name="addMember" specification="_JRwcAv1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEDk_1qEeizVtFKDMb3cQ" name="member" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>reps.add(member);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEDlP1qEeizVtFKDMb3cQ" name="removeMember" specification="_JRyRMP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEDlf1qEeizVtFKDMb3cQ" name="member" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>reps.remove(member);
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_JJepwP1qEeizVtFKDMb3cQ" name="ChatRoom" method="_JTDcgf1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JJepwv1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JJepw_1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTNNgf1qEeizVtFKDMb3cQ">
                <body>Constructor
	 * @param roomname Name of the room</body>
              </ownedComment>
              <ownedParameter xmi:id="_JJepwf1qEeizVtFKDMb3cQ" name="roomname">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JJfQ0P1qEeizVtFKDMb3cQ" type="_JJdboP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JJf34P1qEeizVtFKDMb3cQ" name="getUUID" method="_JTDciP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JRvN4P1qEeizVtFKDMb3cQ" type="_JPwQ4f1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JJge8v1qEeizVtFKDMb3cQ" name="getMembers" method="_JTDcjP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JJhGAP1qEeizVtFKDMb3cQ" type="_JP2Xgf1qEeizVtFKDMb3cQ" isOrdered="true" direction="return">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JJhGAf1qEeizVtFKDMb3cQ" value="*"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JJhtEv1qEeizVtFKDMb3cQ" name="toString" method="_JTEDkP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JJiUIP1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JRum0P1qEeizVtFKDMb3cQ" name="ChatRoom" method="_JTDchP1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JRum0_1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JRum1P1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTNNgv1qEeizVtFKDMb3cQ">
                <body>Constructor
	 * @param roomname Name of the room
	 * @param id ID of the room</body>
              </ownedComment>
              <ownedParameter xmi:id="_JRum0f1qEeizVtFKDMb3cQ" name="roomname">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JRum0v1qEeizVtFKDMb3cQ" name="id" type="_JPwQ4f1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JRum1f1qEeizVtFKDMb3cQ" type="_JJdboP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JRvN4f1qEeizVtFKDMb3cQ" name="sendMsgToAll" method="_JTDciv1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JRvN4v1qEeizVtFKDMb3cQ" name="dp" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JRwcAv1qEeizVtFKDMb3cQ" name="addMember" method="_JTEDkv1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JRxDEP1qEeizVtFKDMb3cQ" name="member" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JRyRMP1qEeizVtFKDMb3cQ" name="removeMember" method="_JTEDlP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JRyRMf1qEeizVtFKDMb3cQ" name="member" type="_JP2Xgf1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_JJnzsP1qEeizVtFKDMb3cQ" name="ClientRemoteConnection">
            <ownedComment xmi:id="_JTNNg_1qEeizVtFKDMb3cQ">
              <body>Remote Connection</body>
            </ownedComment>
            <ownedAttribute xmi:id="_JSjGMf1qEeizVtFKDMb3cQ" name="name" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_JSk7YP1qEeizVtFKDMb3cQ" name="rooms" visibility="private" type="_JPqxUf1qEeizVtFKDMb3cQ" isOrdered="true" association="_JTuK4f1qEeizVtFKDMb3cQ">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JSk7Yf1qEeizVtFKDMb3cQ" value="*"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_JSk7Y_1qEeizVtFKDMb3cQ" name="m2vAdpt" visibility="private" type="_JItNsP1qEeizVtFKDMb3cQ" association="_JTux8P1qEeizVtFKDMb3cQ"/>
            <ownedAttribute xmi:id="_JSlicf1qEeizVtFKDMb3cQ" name="userStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JTux8_1qEeizVtFKDMb3cQ"/>
            <interfaceRealization xmi:id="_JRzfUP1qEeizVtFKDMb3cQ" client="_JJnzsP1qEeizVtFKDMb3cQ" supplier="_JPr_cP1qEeizVtFKDMb3cQ" contract="_JPr_cP1qEeizVtFKDMb3cQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqoP1qEeizVtFKDMb3cQ" name="ClientRemoteConnection" specification="_JQ0n4P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqof1qEeizVtFKDMb3cQ" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JTEqov1qEeizVtFKDMb3cQ" name="ip">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JTEqo_1qEeizVtFKDMb3cQ" name="_m2vAdpt" type="_JItNsP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTEqpP1qEeizVtFKDMb3cQ" type="_JJnzsP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>this.name = name + &quot; @ &quot; + ip;
//		this.ID = UUID.randomUUID();
		this.rooms = new ArrayList&lt;>();
//		this.IPAddress = ip;
		this.m2vAdpt = _m2vAdpt;
//		this.reps = new HashSet&lt;>();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqpf1qEeizVtFKDMb3cQ" name="getGroups" specification="_JJpo4P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqpv1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" isOrdered="true" direction="return">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JTEqp_1qEeizVtFKDMb3cQ" value="*"/>
              </ownedParameter>
              <language>java</language>
              <body>System.out.println(&quot;RemoteConnection room size: &quot; + rooms.size());
		return rooms;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqqP1qEeizVtFKDMb3cQ" name="connect" specification="_JR0tcP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqqf1qEeizVtFKDMb3cQ" name="remoteConnectionStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>m2vAdpt.addUser(remoteConnectionStub);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqqv1qEeizVtFKDMb3cQ" name="receiveInvite" specification="_JR1Ugv1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqq_1qEeizVtFKDMb3cQ" name="chatRoom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>if (!rooms.contains(chatRoom)) {
			IGroup roomCopy = new s(chatRoom.getName(), chatRoom.getUUID());
			// add all exisiting members to this room
			for (IMember repStub: chatRoom.getMembers()) {
				//roomCopy.addRep(repStub);
				roomCopy.getMembers().add(repStub);
			}
			// tell everybody to add you
			IMain2MiniAdapter m2mAdpt = m2vAdpt.makeMiniMVC(roomCopy, userStub);
			m2vAdpt.addChatroom(m2mAdpt.getMiniRoom());
		}
		
//		for (IChatRoom room : user.getChatRooms()) {
//			if (chatroom.getUUID() == room.getUUID()) {
//				outputCmd.accept(&quot;You are already in&quot; + room.getName() + &quot;!&quot;);
//				return;
//			}
//		}
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqrP1qEeizVtFKDMb3cQ" name="toString" specification="_JJq3AP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqrf1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return name;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTEqrv1qEeizVtFKDMb3cQ" name="setUserStub" specification="_JR3Js_1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTEqr_1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>this.userStub = userStub;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_JJpo4P1qEeizVtFKDMb3cQ" name="getGroups" method="_JTEqpf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JJpo4f1qEeizVtFKDMb3cQ" type="_JPqxUf1qEeizVtFKDMb3cQ" isOrdered="true" direction="return">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JJpo4v1qEeizVtFKDMb3cQ" value="*"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JJq3AP1qEeizVtFKDMb3cQ" name="toString" method="_JTEqrP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JJreEP1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JQ0n4P1qEeizVtFKDMb3cQ" name="ClientRemoteConnection" method="_JTEqoP1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JQ0n5P1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JQ0n5f1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTNNhP1qEeizVtFKDMb3cQ">
                <body>Constructor
	 * @param name Name of the user
	 * @param ip IP address of the host
	 * @param _m2vAdpt Model2ViewAdapter</body>
              </ownedComment>
              <ownedParameter xmi:id="_JQ0n4f1qEeizVtFKDMb3cQ" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JQ0n4v1qEeizVtFKDMb3cQ" name="ip">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_JQ0n4_1qEeizVtFKDMb3cQ" name="_m2vAdpt" type="_JItNsP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JQ0n5v1qEeizVtFKDMb3cQ" type="_JJnzsP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JR0tcP1qEeizVtFKDMb3cQ" name="connect" method="_JTEqqP1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JR0tcf1qEeizVtFKDMb3cQ" name="remoteConnectionStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JR1Ugv1qEeizVtFKDMb3cQ" name="receiveInvite" method="_JTEqqv1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JR1Ug_1qEeizVtFKDMb3cQ" name="chatRoom" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JR2ioP1qEeizVtFKDMb3cQ" name="quit" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JR2iof1qEeizVtFKDMb3cQ" name="remoteConnectionStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JR3Js_1qEeizVtFKDMb3cQ" name="setUserStub" method="_JTEqrv1qEeizVtFKDMb3cQ">
              <ownedComment xmi:id="_JTN0kP1qEeizVtFKDMb3cQ">
                <body>@param userStub -- the stub</body>
              </ownedComment>
              <ownedParameter xmi:id="_JR3wwP1qEeizVtFKDMb3cQ" name="userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_JKIKAP1qEeizVtFKDMb3cQ" name="Member">
            <ownedComment xmi:id="_JTObqP1qEeizVtFKDMb3cQ">
              <body>Concrete Member class</body>
            </ownedComment>
            <ownedAttribute xmi:id="_JS5rgP1qEeizVtFKDMb3cQ" name="visitor" visibility="private" type="_JQOK8f1qEeizVtFKDMb3cQ" association="_JUCT8f1qEeizVtFKDMb3cQ"/>
            <ownedAttribute xmi:id="_JS6Skf1qEeizVtFKDMb3cQ" name="room" visibility="private" type="_JPqxUf1qEeizVtFKDMb3cQ" association="_JUC7Af1qEeizVtFKDMb3cQ"/>
            <ownedAttribute xmi:id="_JS6Sk_1qEeizVtFKDMb3cQ" name="userStub" visibility="private" type="_JPr_cP1qEeizVtFKDMb3cQ" association="_JUDiEf1qEeizVtFKDMb3cQ"/>
            <interfaceRealization xmi:id="_JSBhwP1qEeizVtFKDMb3cQ" client="_JKIKAP1qEeizVtFKDMb3cQ" supplier="_JP2Xgf1qEeizVtFKDMb3cQ" contract="_JP2Xgf1qEeizVtFKDMb3cQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTHG4P1qEeizVtFKDMb3cQ" name="Member" specification="_JSCI0P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTHG4f1qEeizVtFKDMb3cQ" name="_room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTHG4v1qEeizVtFKDMb3cQ" name="_userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTHG4_1qEeizVtFKDMb3cQ" name="_c2mAdpt" type="_JP1wcP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTHG5P1qEeizVtFKDMb3cQ" name="visitor" type="_JQOK8f1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JTHG5f1qEeizVtFKDMb3cQ" type="_JKIKAP1qEeizVtFKDMb3cQ" direction="return">
                <name xsi:nil="true"/>
              </ownedParameter>
              <language>java</language>
              <body>// make a deep opy of this chatroom with UUID
		room = new s(_room.getName(), _room.getUUID());
		// add all exisiting members to this room
		for (IMember repStub: _room.getMembers()) {
			room.getMembers().add(repStub);
		}
		this.userStub = _userStub;
		this.visitor = visitor;
		
//		try {
//			this.repstub = (IRepresentative) UnicastRemoteObject.exportObject(this, BOUND_PORT_REP);
//		} catch (RemoteException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
		
		/* Installing well-known msg type commands to the visitor!! */
		
		// default cmd
//		IExtVisitorCmd&lt;R, I, P, H> defaultcmd = new IExtVisitorCmd&lt;> () {
//			@Override
//			public &lt;T extends IExtVisitorHost&lt;I, ? super H>> R apply(I index, T host){
//				// TODO Auto-generated method stub
//				host.receiveMsg(IRequestInstruction);
//			}
//		}
//				IRequestInstruction();
		//ADataPacketAlgoCmd defaultcmd = null;
		//this.visitor = new DataPacketAlgo(defaultcmd);
		// cmd for IText
//		ADataPacketAlgoCmd&lt;Integer, IText, Integer, ICmd2ModelAdapter, DataPacket&lt;IText, IRepresentative>> textCmd 
//		= new ADataPacketAlgoCmd&lt;>() {
//			/**
//			 * 
//			 */
//			private static final long serialVersionUID = 4033756108955376172L;
//
//			@Override
//			public Integer apply(IDataPacketID index, DataPacket&lt;IText, IRepresentative> host, Integer... params) {
//				// TODO Auto-generated method stub
//				c2mAdpt.appendString(host.getData().getText());
//				//return host.getData().getText();
//				return 0;
//			}
//
//			@Override
//			public void setCmd2ModelAdpt(ICmd2ModelAdapter cmd2ModelAdpt) {
//				// TODO Auto-generated method stub
//				//c2mAdpt = cmd2ModelAdpt;
//			}
//			
//		};
		// default
//		UnknownMessageCmd defaultCmd = new UnknownMessageCmd(repstub);
//		defaultCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		this.visitor = new DataPacketAlgo&lt;Integer, Integer>(defaultCmd);
		
//		// text
//		TextCmd textCmd = new TextCmd(this.c2mAdpt);
//		textCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		this.visitor = new ChatroomDataPacketAlgo(textCmd);
//		visitor.setCmd(ITxtData.GetID(), textCmd);
//		
		// requestInstruction
//		RequestInstructionCmd requestInstructionCmd = new RequestInstructionCmd(c2mAdpt, room, repstub);
//		requestInstructionCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		visitor.setCmd(IRequestInstruction.GetID(), requestInstructionCmd);
		
//		// instruct
//		InstructCmd instructCmd = new InstructCmd(c2mAdpt, room);
//		instructCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		visitor.setCmd(IInstallCmdData.GetID(), instructCmd);
		
		//cmd for getChatRooms
		//ADataPacketAlgoCmd&lt;Integer, > getChatRoomCmd;
		
		
		// cmd for IAddRep		
//		ADataPacketAlgoCmd&lt;Integer, IAddRep, Integer, ICmd2ModelAdapter, DataPacket&lt;IAddRep, IRepresentative>> addRepCmd 
//		= new ADataPacketAlgoCmd&lt;>() {
//			private static final long serialVersionUID = 1L;
//
//			@Override
//			public Integer apply(IDataPacketID index, DataPacket&lt;IAddRep, IRepresentative> host, Integer... params) {
//				room.addRep(host.getData().getRepToAdd());
//				c2mAdpt.appendString(&quot;A new user has joined!\n&quot;);
//				return 0;
//			}
//
//			@Override
//			public void setCmd2ModelAdpt(ICmd2ModelAdapter cmd2ModelAdpt) {
//				//c2mAdpt = cmd2ModelAdpt;
//			}
//		};
//		JoinDataCmd addRepCmd = new JoinDataCmd(c2mAdpt, room);
//		addRepCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		visitor.setCmd(IAddRep.GetID(), addRepCmd);
//		
//		LeaveDataCmd removeRepCmd = new LeaveDataCmd(c2mAdpt, room);
//		removeRepCmd.setCmd2ModelAdpt(this.c2mAdpt);
//		visitor.setCmd(IRemoveRep.GetID(), removeRepCmd);
		
		/* End of Visitor Initialization */
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTHt8P1qEeizVtFKDMb3cQ" name="receiveData" specification="_JSDW8P1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTHt8f1qEeizVtFKDMb3cQ" name="dp" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
              <language>java</language>
              <body>System.out.println(&quot;Member received data!&quot;);
		dp.execute(visitor);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTHt8v1qEeizVtFKDMb3cQ" name="getName" specification="_JKJ_MP1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTHt8_1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return userStub.getName();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_JTHt9P1qEeizVtFKDMb3cQ" name="getRemoteConnection" specification="_JKMbcf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JTHt9f1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
              <language>java</language>
              <body>return userStub;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_JKJ_MP1qEeizVtFKDMb3cQ" name="getName" method="_JTHt8v1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JKKmQP1qEeizVtFKDMb3cQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_JKMbcf1qEeizVtFKDMb3cQ" name="getRemoteConnection" method="_JTHt9P1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JSElEv1qEeizVtFKDMb3cQ" type="_JPr_cP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JSCI0P1qEeizVtFKDMb3cQ" name="Member" method="_JTHG4P1qEeizVtFKDMb3cQ">
              <eAnnotations xmi:id="_JSCv5P1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_JSCv5f1qEeizVtFKDMb3cQ" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_JTObqf1qEeizVtFKDMb3cQ">
                <body>Constructor, core of message handling
	 * @param _room Chat room
	 * @param _userStub Stub of the user
	 * @param _c2mAdpt Cmd2ModelAdapter
	 * @param visitor Visitor</body>
              </ownedComment>
              <ownedParameter xmi:id="_JSCv4P1qEeizVtFKDMb3cQ" name="_room" type="_JPqxUf1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JSCv4f1qEeizVtFKDMb3cQ" name="_userStub" type="_JPr_cP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JSCv4v1qEeizVtFKDMb3cQ" name="_c2mAdpt" type="_JP1wcP1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JSCv4_1qEeizVtFKDMb3cQ" name="visitor" type="_JQOK8f1qEeizVtFKDMb3cQ"/>
              <ownedParameter xmi:id="_JSCv5v1qEeizVtFKDMb3cQ" type="_JKIKAP1qEeizVtFKDMb3cQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_JSDW8P1qEeizVtFKDMb3cQ" name="receiveData" method="_JTHt8P1qEeizVtFKDMb3cQ" raisedException="_JPoVEf1qEeizVtFKDMb3cQ">
              <ownedParameter xmi:id="_JSDW8f1qEeizVtFKDMb3cQ" name="dp" type="_JPyGEf1qEeizVtFKDMb3cQ"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTeTQf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTeTQv1qEeizVtFKDMb3cQ _JSUcsP1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTeTQv1qEeizVtFKDMb3cQ" name="" type="_JIz7YP1qEeizVtFKDMb3cQ" association="_JTeTQf1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTs8wf1qEeizVtFKDMb3cQ" name="" memberEnd="_JTs8wv1qEeizVtFKDMb3cQ _JSfb0v1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTs8wv1qEeizVtFKDMb3cQ" name="" type="_JJZxQP1qEeizVtFKDMb3cQ" association="_JTs8wf1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTtj0P1qEeizVtFKDMb3cQ" name="" memberEnd="_JTtj0f1qEeizVtFKDMb3cQ _JSh4Ev1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTtj0f1qEeizVtFKDMb3cQ" name="" type="_JJdboP1qEeizVtFKDMb3cQ" association="_JTtj0P1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTtj0_1qEeizVtFKDMb3cQ" name="" memberEnd="_JTtj1P1qEeizVtFKDMb3cQ _JSifIf1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTtj1P1qEeizVtFKDMb3cQ" name="" type="_JJdboP1qEeizVtFKDMb3cQ" association="_JTtj0_1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTuK4f1qEeizVtFKDMb3cQ" name="" memberEnd="_JTuK4v1qEeizVtFKDMb3cQ _JSk7YP1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTuK4v1qEeizVtFKDMb3cQ" name="" type="_JJnzsP1qEeizVtFKDMb3cQ" association="_JTuK4f1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTux8P1qEeizVtFKDMb3cQ" name="" memberEnd="_JTux8f1qEeizVtFKDMb3cQ _JSk7Y_1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTux8f1qEeizVtFKDMb3cQ" name="" type="_JJnzsP1qEeizVtFKDMb3cQ" association="_JTux8P1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JTux8_1qEeizVtFKDMb3cQ" name="" memberEnd="_JTux9P1qEeizVtFKDMb3cQ _JSlicf1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JTux9P1qEeizVtFKDMb3cQ" name="" type="_JJnzsP1qEeizVtFKDMb3cQ" association="_JTux8_1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JUCT8f1qEeizVtFKDMb3cQ" name="" memberEnd="_JUCT8v1qEeizVtFKDMb3cQ _JS5rgP1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JUCT8v1qEeizVtFKDMb3cQ" name="" type="_JKIKAP1qEeizVtFKDMb3cQ" association="_JUCT8f1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JUC7Af1qEeizVtFKDMb3cQ" name="" memberEnd="_JUC7Av1qEeizVtFKDMb3cQ _JS6Skf1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JUC7Av1qEeizVtFKDMb3cQ" name="" type="_JKIKAP1qEeizVtFKDMb3cQ" association="_JUC7Af1qEeizVtFKDMb3cQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_JUDiEf1qEeizVtFKDMb3cQ" name="" memberEnd="_JUDiEv1qEeizVtFKDMb3cQ _JS6Sk_1qEeizVtFKDMb3cQ">
            <ownedEnd xmi:id="_JUDiEv1qEeizVtFKDMb3cQ" name="" type="_JKIKAP1qEeizVtFKDMb3cQ" association="_JUDiEf1qEeizVtFKDMb3cQ"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFru4P1qEeizVtFKDMb3cQ" name="data">
        <packagedElement xmi:type="uml:Class" xmi:id="_JPz7Qf1qEeizVtFKDMb3cQ" name="LeaveData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQURkf1qEeizVtFKDMb3cQ" name="IImageData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQU4of1qEeizVtFKDMb3cQ" name="ImageCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQVfsf1qEeizVtFKDMb3cQ" name="ImageData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQWGwP1qEeizVtFKDMb3cQ" name="IMapData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQWGwv1qEeizVtFKDMb3cQ" name="Instruct"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQWt0f1qEeizVtFKDMb3cQ" name="JoinData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQWt0_1qEeizVtFKDMb3cQ" name="MapData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQXU4f1qEeizVtFKDMb3cQ" name="RequestInstruction"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQXU4_1qEeizVtFKDMb3cQ" name="StatusProcessingError"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQX78f1qEeizVtFKDMb3cQ" name="StatusProcessingErrorCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQYjAf1qEeizVtFKDMb3cQ" name="StatusRejectionError"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQZKEP1qEeizVtFKDMb3cQ" name="StatusRejectionErrorCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQZxIf1qEeizVtFKDMb3cQ" name="StatusSendingError"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQaYMf1qEeizVtFKDMb3cQ" name="StatusSendingErrorCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQa_Qf1qEeizVtFKDMb3cQ" name="TextData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQa_Q_1qEeizVtFKDMb3cQ" name="TextDataCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQbmUf1qEeizVtFKDMb3cQ" name="UpdateMemberListAddCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQcNYf1qEeizVtFKDMb3cQ" name="UpdateMemberListRemoveCmd"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFru4f1qEeizVtFKDMb3cQ" name="game">
        <packagedElement xmi:type="uml:Package" xmi:id="_JFru4v1qEeizVtFKDMb3cQ" name="model">
          <packagedElement xmi:type="uml:Class" xmi:id="_JP0iUf1qEeizVtFKDMb3cQ" name="GameAdapter"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_JFmPUP1qEeizVtFKDMb3cQ" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_JFmPUf1qEeizVtFKDMb3cQ" name="awt">
        <packagedElement xmi:type="uml:Package" xmi:id="_JGLeIP1qEeizVtFKDMb3cQ" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="_JQlXUf1qEeizVtFKDMb3cQ" name="ActionEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQl-Yf1qEeizVtFKDMb3cQ" name="ActionListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPmf4P1qEeizVtFKDMb3cQ" name="Component"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPnuAP1qEeizVtFKDMb3cQ" name="EventQueue"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQMVwP1qEeizVtFKDMb3cQ" name="Image"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQM80P1qEeizVtFKDMb3cQ" name="Toolkit"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQi7EP1qEeizVtFKDMb3cQ" name="BorderLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQjiIf1qEeizVtFKDMb3cQ" name="Dimension"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQkJMf1qEeizVtFKDMb3cQ" name="FlowLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQkwQf1qEeizVtFKDMb3cQ" name="GridLayout"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFm2YP1qEeizVtFKDMb3cQ" name="rmi">
        <packagedElement xmi:type="uml:Package" xmi:id="_JFqgwP1qEeizVtFKDMb3cQ" name="registry">
          <packagedElement xmi:type="uml:Interface" xmi:id="_JPt0oP1qEeizVtFKDMb3cQ" name="Registry"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_JFqgwf1qEeizVtFKDMb3cQ" name="server">
          <packagedElement xmi:type="uml:Class" xmi:id="_JPubsf1qEeizVtFKDMb3cQ" name="UnicastRemoteObject"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPoVEf1qEeizVtFKDMb3cQ" name="RemoteException"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFm2Yf1qEeizVtFKDMb3cQ" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_JFm2Yv1qEeizVtFKDMb3cQ" name="function">
          <packagedElement xmi:type="uml:Interface" xmi:id="_JPqKQf1qEeizVtFKDMb3cQ" name="Supplier"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JPw38f1qEeizVtFKDMb3cQ" name="Consumer"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_JGBGEP1qEeizVtFKDMb3cQ" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_JQM80v1qEeizVtFKDMb3cQ" name="ConcurrentHashMap"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPo8If1qEeizVtFKDMb3cQ" name="ArrayList"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JPpjMf1qEeizVtFKDMb3cQ" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPvCwf1qEeizVtFKDMb3cQ" name="HashSet"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JPvp0f1qEeizVtFKDMb3cQ" name="Set"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPwQ4f1qEeizVtFKDMb3cQ" name="UUID"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JRWzYP1qEeizVtFKDMb3cQ" name="lang">
        <packagedElement xmi:type="uml:Class" xmi:id="_JRWzYf1qEeizVtFKDMb3cQ" name="Exception"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_JFm2Y_1qEeizVtFKDMb3cQ" name="common">
      <packagedElement xmi:type="uml:Package" xmi:id="_JFrH0v1qEeizVtFKDMb3cQ" name="message">
        <packagedElement xmi:type="uml:Package" xmi:id="_JGBtIP1qEeizVtFKDMb3cQ" name="status">
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQQnMf1qEeizVtFKDMb3cQ" name="IStatusProcessingError"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQROQf1qEeizVtFKDMb3cQ" name="IStatusRejectionError"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQR1Uf1qEeizVtFKDMb3cQ" name="IStatusSendingError"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_JGCUMP1qEeizVtFKDMb3cQ" name="synchronization">
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQScYf1qEeizVtFKDMb3cQ" name="IUpdateMemberListAddData"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQTDcP1qEeizVtFKDMb3cQ" name="IUpdateMemberListData"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_JQTqgP1qEeizVtFKDMb3cQ" name="IUpdateMemberListRemoveData"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPyGEf1qEeizVtFKDMb3cQ" name="GroupDataPacket"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JPzUMP1qEeizVtFKDMb3cQ" name="ILeaveData"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQNj4_1qEeizVtFKDMb3cQ" name="AMessageCmd"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQOK8f1qEeizVtFKDMb3cQ" name="GroupDataPacketAlgo"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQOyAP1qEeizVtFKDMb3cQ" name="IInstallCmdData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQOyAv1qEeizVtFKDMb3cQ" name="IJoinData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQPZEf1qEeizVtFKDMb3cQ" name="IRequestCmdData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQQAIf1qEeizVtFKDMb3cQ" name="ITxtData"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Interface" xmi:id="_JPqxUf1qEeizVtFKDMb3cQ" name="IGroup"/>
      <packagedElement xmi:type="uml:Interface" xmi:id="_JPr_cP1qEeizVtFKDMb3cQ" name="IRemoteConnection"/>
      <packagedElement xmi:type="uml:Interface" xmi:id="_JP1wcP1qEeizVtFKDMb3cQ" name="ICmd2ModelAdapter"/>
      <packagedElement xmi:type="uml:Interface" xmi:id="_JP2Xgf1qEeizVtFKDMb3cQ" name="IMember"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_JFrH0P1qEeizVtFKDMb3cQ" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_JFrH0f1qEeizVtFKDMb3cQ" name="swing">
        <packagedElement xmi:type="uml:Package" xmi:id="_JGlGwP1qEeizVtFKDMb3cQ" name="border">
          <packagedElement xmi:type="uml:Class" xmi:id="_JQ3rMP1qEeizVtFKDMb3cQ" name="EmptyBorder"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_JPxfAf1qEeizVtFKDMb3cQ" name="JFrame"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQNj4f1qEeizVtFKDMb3cQ" name="ImageIcon"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQmlcf1qEeizVtFKDMb3cQ" name="JButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQmlc_1qEeizVtFKDMb3cQ" name="JPanel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQnMgf1qEeizVtFKDMb3cQ" name="JScrollPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQoaof1qEeizVtFKDMb3cQ" name="JTextArea"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQpBsf1qEeizVtFKDMb3cQ" name="JTextField"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQ3rMv1qEeizVtFKDMb3cQ" name="JComboBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQ45UP1qEeizVtFKDMb3cQ" name="JLabel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JQ45Uv1qEeizVtFKDMb3cQ" name="JTabbedPane"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQ5gYf1qEeizVtFKDMb3cQ" name="ScrollPaneConstants"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_JFsV8P1qEeizVtFKDMb3cQ" name="provided">
      <packagedElement xmi:type="uml:Package" xmi:id="_JFsV8f1qEeizVtFKDMb3cQ" name="datapacket">
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP2-kf1qEeizVtFKDMb3cQ" name="IDataPacketData"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JQdbgP1qEeizVtFKDMb3cQ" name="IDataPacketID"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFsV8v1qEeizVtFKDMb3cQ" name="discovery">
        <packagedElement xmi:type="uml:Package" xmi:id="_JFsV8_1qEeizVtFKDMb3cQ" name="impl">
          <packagedElement xmi:type="uml:Package" xmi:id="_JFs9AP1qEeizVtFKDMb3cQ" name="view">
            <packagedElement xmi:type="uml:Class" xmi:id="_JP7QAf1qEeizVtFKDMb3cQ" name="DiscoveryPanel"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_JP8eIf1qEeizVtFKDMb3cQ" name="IDiscoveryPanelAdapter"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP4Msf1qEeizVtFKDMb3cQ" name="IDiscoveryConnection"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP5a0f1qEeizVtFKDMb3cQ" name="IDiscoveryManager"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP6B4f1qEeizVtFKDMb3cQ" name="IDiscoveryServer"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP6o8f1qEeizVtFKDMb3cQ" name="IEndPointData"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFs9Af1qEeizVtFKDMb3cQ" name="mixedData">
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP9FMf1qEeizVtFKDMb3cQ" name="IMixedDataDictionary"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JP9FM_1qEeizVtFKDMb3cQ" name="MixedDataDictionary"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JP9sQf1qEeizVtFKDMb3cQ" name="MixedDataKey"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_JFs9Av1qEeizVtFKDMb3cQ" name="rmiUtils">
        <packagedElement xmi:type="uml:Interface" xmi:id="_JP-TUf1qEeizVtFKDMb3cQ" name="IRMI_Defs"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_JP-6Yf1qEeizVtFKDMb3cQ" name="RMIUtils"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_IPcqcP1qEeizVtFKDMb3cQ">
      <eAnnotations xmi:id="_IPcqcf1qEeizVtFKDMb3cQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_IPdRgP1qEeizVtFKDMb3cQ" base_Package="_ICMRkP1qEeizVtFKDMb3cQ">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JI1wkf1qEeizVtFKDMb3cQ" base_Element="_JI1Jgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JI2XoP1qEeizVtFKDMb3cQ" base_Element="_JI1Jgf1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JI2Xof1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_JI4z4P1qEeizVtFKDMb3cQ" genericsValue="TUserDropListItem, TRoomDropListItem" base_Element="_JI3lwP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJEaEP1qEeizVtFKDMb3cQ" base_Element="_JJDzAP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJbmcf1qEeizVtFKDMb3cQ" base_Element="_JJa_YP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJcNgP1qEeizVtFKDMb3cQ" base_Element="_JJa_YP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJcNgf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJf34f1qEeizVtFKDMb3cQ" base_Element="_JJf34P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJge8P1qEeizVtFKDMb3cQ" base_Element="_JJf34P1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJge8f1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJhGAv1qEeizVtFKDMb3cQ" base_Element="_JJge8v1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJhtEP1qEeizVtFKDMb3cQ" base_Element="_JJge8v1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJhtEf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJiUIf1qEeizVtFKDMb3cQ" base_Element="_JJhtEv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJi7MP1qEeizVtFKDMb3cQ" base_Element="_JJhtEv1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJi7Mf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJqP8P1qEeizVtFKDMb3cQ" base_Element="_JJpo4P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJqP8f1qEeizVtFKDMb3cQ" base_Element="_JJpo4P1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJqP8v1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JJreEf1qEeizVtFKDMb3cQ" base_Element="_JJq3AP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JJreEv1qEeizVtFKDMb3cQ" base_Element="_JJq3AP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JJreE_1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_JJw9oP1qEeizVtFKDMb3cQ" genericsValue="TUserDropListItem, TRoomDropListItem" base_Element="_JJvvgP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JKLNUP1qEeizVtFKDMb3cQ" base_Element="_JKJ_MP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JKL0YP1qEeizVtFKDMb3cQ" base_Element="_JKJ_MP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JKMbcP1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JKNCgP1qEeizVtFKDMb3cQ" base_Element="_JKMbcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JKNpkP1qEeizVtFKDMb3cQ" base_Element="_JKMbcf1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JKNpkf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_JPnG8P1qEeizVtFKDMb3cQ" base_Element="_JPmf4P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPoVEP1qEeizVtFKDMb3cQ" base_Element="_JPnuAP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPo8IP1qEeizVtFKDMb3cQ" base_Element="_JPoVEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPpjMP1qEeizVtFKDMb3cQ" base_Element="_JPo8If1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPqKQP1qEeizVtFKDMb3cQ" base_Element="_JPpjMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPqxUP1qEeizVtFKDMb3cQ" base_Element="_JPqKQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPrYYP1qEeizVtFKDMb3cQ" base_Element="_JPqxUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPr_cf1qEeizVtFKDMb3cQ" base_Element="_JPr_cP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPubsP1qEeizVtFKDMb3cQ" base_Element="_JPt0oP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPvCwP1qEeizVtFKDMb3cQ" base_Element="_JPubsf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPvp0P1qEeizVtFKDMb3cQ" base_Element="_JPvCwf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPwQ4P1qEeizVtFKDMb3cQ" base_Element="_JPvp0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPw38P1qEeizVtFKDMb3cQ" base_Element="_JPwQ4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPxfAP1qEeizVtFKDMb3cQ" base_Element="_JPw38f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPyGEP1qEeizVtFKDMb3cQ" base_Element="_JPxfAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPytIP1qEeizVtFKDMb3cQ" base_Element="_JPyGEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JPz7QP1qEeizVtFKDMb3cQ" base_Element="_JPzUMP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP0iUP1qEeizVtFKDMb3cQ" base_Element="_JPz7Qf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP1JYP1qEeizVtFKDMb3cQ" base_Element="_JP0iUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP2XgP1qEeizVtFKDMb3cQ" base_Element="_JP1wcP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP2-kP1qEeizVtFKDMb3cQ" base_Element="_JP2Xgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP4MsP1qEeizVtFKDMb3cQ" base_Element="_JP2-kf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP5a0P1qEeizVtFKDMb3cQ" base_Element="_JP4Msf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP6B4P1qEeizVtFKDMb3cQ" base_Element="_JP5a0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP6o8P1qEeizVtFKDMb3cQ" base_Element="_JP6B4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP7QAP1qEeizVtFKDMb3cQ" base_Element="_JP6o8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP8eIP1qEeizVtFKDMb3cQ" base_Element="_JP7QAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP9FMP1qEeizVtFKDMb3cQ" base_Element="_JP8eIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP9FMv1qEeizVtFKDMb3cQ" base_Element="_JP9FMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP9sQP1qEeizVtFKDMb3cQ" base_Element="_JP9FM_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP-TUP1qEeizVtFKDMb3cQ" base_Element="_JP9sQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP-6YP1qEeizVtFKDMb3cQ" base_Element="_JP-TUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JP_hcP1qEeizVtFKDMb3cQ" base_Element="_JP-6Yf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQMVwf1qEeizVtFKDMb3cQ" base_Element="_JQMVwP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQM80f1qEeizVtFKDMb3cQ" base_Element="_JQM80P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQNj4P1qEeizVtFKDMb3cQ" base_Element="_JQM80v1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQNj4v1qEeizVtFKDMb3cQ" base_Element="_JQNj4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQOK8P1qEeizVtFKDMb3cQ" base_Element="_JQNj4_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQOK8v1qEeizVtFKDMb3cQ" base_Element="_JQOK8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQOyAf1qEeizVtFKDMb3cQ" base_Element="_JQOyAP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQPZEP1qEeizVtFKDMb3cQ" base_Element="_JQOyAv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQQAIP1qEeizVtFKDMb3cQ" base_Element="_JQPZEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQQnMP1qEeizVtFKDMb3cQ" base_Element="_JQQAIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQROQP1qEeizVtFKDMb3cQ" base_Element="_JQQnMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQR1UP1qEeizVtFKDMb3cQ" base_Element="_JQROQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQScYP1qEeizVtFKDMb3cQ" base_Element="_JQR1Uf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQScYv1qEeizVtFKDMb3cQ" base_Element="_JQScYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQTDcf1qEeizVtFKDMb3cQ" base_Element="_JQTDcP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQURkP1qEeizVtFKDMb3cQ" base_Element="_JQTqgP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQU4oP1qEeizVtFKDMb3cQ" base_Element="_JQURkf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQVfsP1qEeizVtFKDMb3cQ" base_Element="_JQU4of1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQVfsv1qEeizVtFKDMb3cQ" base_Element="_JQVfsf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQWGwf1qEeizVtFKDMb3cQ" base_Element="_JQWGwP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQWt0P1qEeizVtFKDMb3cQ" base_Element="_JQWGwv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQWt0v1qEeizVtFKDMb3cQ" base_Element="_JQWt0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQXU4P1qEeizVtFKDMb3cQ" base_Element="_JQWt0_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQXU4v1qEeizVtFKDMb3cQ" base_Element="_JQXU4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQX78P1qEeizVtFKDMb3cQ" base_Element="_JQXU4_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQYjAP1qEeizVtFKDMb3cQ" base_Element="_JQX78f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQYjAv1qEeizVtFKDMb3cQ" base_Element="_JQYjAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQZxIP1qEeizVtFKDMb3cQ" base_Element="_JQZKEP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQaYMP1qEeizVtFKDMb3cQ" base_Element="_JQZxIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQa_QP1qEeizVtFKDMb3cQ" base_Element="_JQaYMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQa_Qv1qEeizVtFKDMb3cQ" base_Element="_JQa_Qf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQbmUP1qEeizVtFKDMb3cQ" base_Element="_JQa_Q_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQcNYP1qEeizVtFKDMb3cQ" base_Element="_JQbmUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQc0cP1qEeizVtFKDMb3cQ" base_Element="_JQcNYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQeCkP1qEeizVtFKDMb3cQ" base_Element="_JQdbgP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQjiIP1qEeizVtFKDMb3cQ" base_Element="_JQi7EP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQkJMP1qEeizVtFKDMb3cQ" base_Element="_JQjiIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQkwQP1qEeizVtFKDMb3cQ" base_Element="_JQkJMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQlXUP1qEeizVtFKDMb3cQ" base_Element="_JQkwQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQl-YP1qEeizVtFKDMb3cQ" base_Element="_JQlXUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQmlcP1qEeizVtFKDMb3cQ" base_Element="_JQl-Yf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQmlcv1qEeizVtFKDMb3cQ" base_Element="_JQmlcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQnMgP1qEeizVtFKDMb3cQ" base_Element="_JQmlc_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQoaoP1qEeizVtFKDMb3cQ" base_Element="_JQnMgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQpBsP1qEeizVtFKDMb3cQ" base_Element="_JQoaof1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQpowP1qEeizVtFKDMb3cQ" base_Element="_JQpBsf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQ3rMf1qEeizVtFKDMb3cQ" base_Element="_JQ3rMP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQ4SQP1qEeizVtFKDMb3cQ" base_Element="_JQ3rMv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQ45Uf1qEeizVtFKDMb3cQ" base_Element="_JQ45UP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQ5gYP1qEeizVtFKDMb3cQ" base_Element="_JQ45Uv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JQ6HcP1qEeizVtFKDMb3cQ" base_Element="_JQ5gYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JQ9KwP1qEeizVtFKDMb3cQ" genericsValue="TUserDropListItem, TRoomDropListItem" base_Element="_JQ8jsP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JRUXIP1qEeizVtFKDMb3cQ" base_Element="_JRTwEP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JRXacP1qEeizVtFKDMb3cQ" base_Element="_JRWzYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JRcS8P1qEeizVtFKDMb3cQ" genericsValue="Component" base_Element="_JRbr4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JReIIP1qEeizVtFKDMb3cQ" base_Element="_JRdhEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JRfWQP1qEeizVtFKDMb3cQ" base_Element="_JRevMP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JRk10f1qEeizVtFKDMb3cQ" genericsValue="? extends IDataPacketData" base_Element="_JRk10P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JRv08P1qEeizVtFKDMb3cQ" base_Element="_JRvN4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JRv08f1qEeizVtFKDMb3cQ" genericsValue="? extends IDataPacketData" base_Element="_JRvN4v1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JRwcAP1qEeizVtFKDMb3cQ" base_Element="_JRvN4f1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JRwcAf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JRxDEf1qEeizVtFKDMb3cQ" base_Element="_JRwcAv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JRxqIP1qEeizVtFKDMb3cQ" base_Element="_JRwcAv1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JRxqIf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JRy4QP1qEeizVtFKDMb3cQ" base_Element="_JRyRMP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JRy4Qf1qEeizVtFKDMb3cQ" base_Element="_JRyRMP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JRy4Qv1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JR0tcv1qEeizVtFKDMb3cQ" base_Element="_JR0tcP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JR1UgP1qEeizVtFKDMb3cQ" base_Element="_JR0tcP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JR1Ugf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JR17kP1qEeizVtFKDMb3cQ" base_Element="_JR1Ugv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JR17kf1qEeizVtFKDMb3cQ" base_Element="_JR1Ugv1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JR17kv1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JR3JsP1qEeizVtFKDMb3cQ" base_Element="_JR2ioP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JR3Jsf1qEeizVtFKDMb3cQ" base_Element="_JR2ioP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JR3Jsv1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSDW8v1qEeizVtFKDMb3cQ" base_Element="_JSDW8P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSD-AP1qEeizVtFKDMb3cQ" genericsValue="? extends IDataPacketData" base_Element="_JSDW8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Annotations xmi:id="_JSElEP1qEeizVtFKDMb3cQ" base_Element="_JSDW8P1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JSElEf1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSJdkf1qEeizVtFKDMb3cQ" base_Element="_JSJdkP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSKEof1qEeizVtFKDMb3cQ" genericsValue="ClientRemoteConnectionWrapper, ChatRoomWrapper" base_Element="_JSKEoP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSKrsP1qEeizVtFKDMb3cQ" base_Element="_JSKEoP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSL50P1qEeizVtFKDMb3cQ" base_Element="_JSLSwP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSMg4P1qEeizVtFKDMb3cQ" genericsValue="String" base_Element="_JSL50f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSMg4v1qEeizVtFKDMb3cQ" base_Element="_JSL50f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSNvAP1qEeizVtFKDMb3cQ" base_Element="_JSMg4_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSOWEP1qEeizVtFKDMb3cQ" base_Element="_JSNvAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSO9IP1qEeizVtFKDMb3cQ" base_Element="_JSOWEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSPkMP1qEeizVtFKDMb3cQ" base_Element="_JSO9If1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSPkMv1qEeizVtFKDMb3cQ" base_Element="_JSPkMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSQLQv1qEeizVtFKDMb3cQ" base_Element="_JSQLQP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSQyUf1qEeizVtFKDMb3cQ" base_Element="_JSQLQ_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSRZYP1qEeizVtFKDMb3cQ" base_Element="_JSQyUv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSSAcP1qEeizVtFKDMb3cQ" base_Element="_JSRZYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSSAc_1qEeizVtFKDMb3cQ" base_Element="_JSSAcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSSngv1qEeizVtFKDMb3cQ" base_Element="_JSSngP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSTOkP1qEeizVtFKDMb3cQ" base_Element="_JSSng_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JST1oP1qEeizVtFKDMb3cQ" base_Element="_JSTOkf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSUcsf1qEeizVtFKDMb3cQ" base_Element="_JSUcsP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSVDwf1qEeizVtFKDMb3cQ" base_Element="_JSVDwP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSVq0P1qEeizVtFKDMb3cQ" base_Element="_JSVDwv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSWR4P1qEeizVtFKDMb3cQ" base_Element="_JSVq0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSWR4v1qEeizVtFKDMb3cQ" base_Element="_JSWR4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSW48P1qEeizVtFKDMb3cQ" base_Element="_JSWR4_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSXgAP1qEeizVtFKDMb3cQ" base_Element="_JSW48f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSXgAv1qEeizVtFKDMb3cQ" base_Element="_JSXgAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSYHEP1qEeizVtFKDMb3cQ" base_Element="_JSXgA_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSYuIP1qEeizVtFKDMb3cQ" base_Element="_JSYHEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSYuI_1qEeizVtFKDMb3cQ" base_Element="_JSYuIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSZ8Qf1qEeizVtFKDMb3cQ" base_Element="_JSZ8QP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSajUf1qEeizVtFKDMb3cQ" base_Element="_JSZ8Qv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSbKYP1qEeizVtFKDMb3cQ" base_Element="_JSajUv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSbxcP1qEeizVtFKDMb3cQ" base_Element="_JSbKYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSbxc_1qEeizVtFKDMb3cQ" base_Element="_JSbxcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JScYgv1qEeizVtFKDMb3cQ" base_Element="_JScYgP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSc_kv1qEeizVtFKDMb3cQ" base_Element="_JSc_kP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSeNsP1qEeizVtFKDMb3cQ" base_Element="_JSdmoP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSeNs_1qEeizVtFKDMb3cQ" base_Element="_JSeNsf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSe0wv1qEeizVtFKDMb3cQ" base_Element="_JSe0wP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSfb0f1qEeizVtFKDMb3cQ" base_Element="_JSe0w_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSgC4P1qEeizVtFKDMb3cQ" base_Element="_JSfb0v1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSgp8P1qEeizVtFKDMb3cQ" base_Element="_JSgC4_1qEeizVtFKDMb3cQ">
    <associatedElement xmi:type="uml:Operation" xmi:id="_JSgp8f1qEeizVtFKDMb3cQ" name="getName" method="_JTC1d_1qEeizVtFKDMb3cQ">
      <ownedParameter xmi:id="_JShRAP1qEeizVtFKDMb3cQ" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Annotations xmi:id="_JSh4EP1qEeizVtFKDMb3cQ" base_Element="_JSgp8f1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JSh4Ef1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSifIP1qEeizVtFKDMb3cQ" base_Element="_JSh4Ev1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSjGMP1qEeizVtFKDMb3cQ" base_Element="_JSifIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSjtQP1qEeizVtFKDMb3cQ" base_Element="_JSjGMf1qEeizVtFKDMb3cQ">
    <associatedElement xmi:type="uml:Operation" xmi:id="_JSkUUP1qEeizVtFKDMb3cQ" name="getName" method="_JTEDlv1qEeizVtFKDMb3cQ">
      <ownedParameter xmi:id="_JSkUUf1qEeizVtFKDMb3cQ" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Annotations xmi:id="_JSkUUv1qEeizVtFKDMb3cQ" base_Element="_JSkUUP1qEeizVtFKDMb3cQ">
    <annotations xmi:id="_JSkUU_1qEeizVtFKDMb3cQ" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSk7Yv1qEeizVtFKDMb3cQ" base_Element="_JSk7YP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSlicP1qEeizVtFKDMb3cQ" base_Element="_JSk7Y_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSlicv1qEeizVtFKDMb3cQ" base_Element="_JSlicf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSnXof1qEeizVtFKDMb3cQ" genericsValue="TUserDropListItem, TRoomDropListItem" base_Element="_JSmwkv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSn-sP1qEeizVtFKDMb3cQ" base_Element="_JSmwkv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSolwP1qEeizVtFKDMb3cQ" base_Element="_JSn-sf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSpM0P1qEeizVtFKDMb3cQ" base_Element="_JSolwf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSpM0_1qEeizVtFKDMb3cQ" base_Element="_JSpM0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSpz4v1qEeizVtFKDMb3cQ" base_Element="_JSpz4P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSqa8f1qEeizVtFKDMb3cQ" base_Element="_JSpz4_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSrCAP1qEeizVtFKDMb3cQ" base_Element="_JSqa8v1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSrCA_1qEeizVtFKDMb3cQ" base_Element="_JSrCAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSrpEv1qEeizVtFKDMb3cQ" base_Element="_JSrpEP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSsQIf1qEeizVtFKDMb3cQ" base_Element="_JSrpE_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSs3MP1qEeizVtFKDMb3cQ" base_Element="_JSsQIv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSs3M_1qEeizVtFKDMb3cQ" base_Element="_JSs3Mf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSteQf1qEeizVtFKDMb3cQ" genericsValue="TRoomDropListItem" base_Element="_JSteQP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSuFUP1qEeizVtFKDMb3cQ" base_Element="_JSteQP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSusYP1qEeizVtFKDMb3cQ" genericsValue="TUserDropListItem" base_Element="_JSuFUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSusYv1qEeizVtFKDMb3cQ" base_Element="_JSuFUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Generics xmi:id="_JSv6gP1qEeizVtFKDMb3cQ" genericsValue="TRoomDropListItem" base_Element="_JSvTcP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSv6gv1qEeizVtFKDMb3cQ" base_Element="_JSvTcP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSwhkv1qEeizVtFKDMb3cQ" base_Element="_JSwhkP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSxIof1qEeizVtFKDMb3cQ" base_Element="_JSwhk_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSxvsf1qEeizVtFKDMb3cQ" base_Element="_JSxIov1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSyWwP1qEeizVtFKDMb3cQ" base_Element="_JSxvsv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSy90P1qEeizVtFKDMb3cQ" base_Element="_JSyWwf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JSzk4P1qEeizVtFKDMb3cQ" base_Element="_JSy90f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS0L8P1qEeizVtFKDMb3cQ" base_Element="_JSzk4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS0zAv1qEeizVtFKDMb3cQ" base_Element="_JS0zAP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS1aEv1qEeizVtFKDMb3cQ" base_Element="_JS1aEP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS2BIv1qEeizVtFKDMb3cQ" base_Element="_JS2BIP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS2oMf1qEeizVtFKDMb3cQ" base_Element="_JS2BI_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS3PQf1qEeizVtFKDMb3cQ" base_Element="_JS2oMv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS32Uv1qEeizVtFKDMb3cQ" base_Element="_JS32UP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS4dYv1qEeizVtFKDMb3cQ" base_Element="_JS32U_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS5Ecv1qEeizVtFKDMb3cQ" base_Element="_JS4dY_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS6SkP1qEeizVtFKDMb3cQ" base_Element="_JS5rgP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS6Skv1qEeizVtFKDMb3cQ" base_Element="_JS6Skf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_JS65oP1qEeizVtFKDMb3cQ" base_Element="_JS6Sk_1qEeizVtFKDMb3cQ"/>
  <uml:OpaqueBehavior xmi:id="_JTC1d_1qEeizVtFKDMb3cQ" name="getName" specification="_JSgp8f1qEeizVtFKDMb3cQ">
    <ownedParameter xmi:id="_JTDcgP1qEeizVtFKDMb3cQ" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_JTEDlv1qEeizVtFKDMb3cQ" name="getName" specification="_JSkUUP1qEeizVtFKDMb3cQ">
    <ownedParameter xmi:id="_JTEDl_1qEeizVtFKDMb3cQ" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_JTZawP1qEeizVtFKDMb3cQ" base_Element="_JTYzsP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTaB0v1qEeizVtFKDMb3cQ" base_Element="_JTaB0P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTao4P1qEeizVtFKDMb3cQ" base_Element="_JTaB0_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTao4_1qEeizVtFKDMb3cQ" base_Element="_JTao4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTbP8P1qEeizVtFKDMb3cQ" base_Element="_JTao5P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTb3AP1qEeizVtFKDMb3cQ" base_Element="_JTbP8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTb3A_1qEeizVtFKDMb3cQ" base_Element="_JTb3Af1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTceEP1qEeizVtFKDMb3cQ" base_Element="_JTb3BP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTdFIP1qEeizVtFKDMb3cQ" base_Element="_JTceEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTdFI_1qEeizVtFKDMb3cQ" base_Element="_JTdFIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTdsMP1qEeizVtFKDMb3cQ" base_Element="_JTdFJP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTeTQP1qEeizVtFKDMb3cQ" base_Element="_JTdsMf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTe6UP1qEeizVtFKDMb3cQ" base_Element="_JTeTQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTgIcP1qEeizVtFKDMb3cQ" base_Element="_JTe6Uf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTgvgP1qEeizVtFKDMb3cQ" base_Element="_JTgIcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JThWkP1qEeizVtFKDMb3cQ" base_Element="_JTgvgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTh9oP1qEeizVtFKDMb3cQ" base_Element="_JThWkf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTiksP1qEeizVtFKDMb3cQ" base_Element="_JTh9of1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTjLwP1qEeizVtFKDMb3cQ" base_Element="_JTiksf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTjy0P1qEeizVtFKDMb3cQ" base_Element="_JTjLwf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTkZ4P1qEeizVtFKDMb3cQ" base_Element="_JTjy0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTlA8P1qEeizVtFKDMb3cQ" base_Element="_JTkZ4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTloAP1qEeizVtFKDMb3cQ" base_Element="_JTlA8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTmPEP1qEeizVtFKDMb3cQ" base_Element="_JTloAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTm2Iv1qEeizVtFKDMb3cQ" base_Element="_JTm2IP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTndMv1qEeizVtFKDMb3cQ" base_Element="_JTndMP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JToEQP1qEeizVtFKDMb3cQ" base_Element="_JTndM_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTorUP1qEeizVtFKDMb3cQ" base_Element="_JToEQf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTpSYP1qEeizVtFKDMb3cQ" base_Element="_JTorUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTp5cP1qEeizVtFKDMb3cQ" base_Element="_JTpSYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTrHkP1qEeizVtFKDMb3cQ" base_Element="_JTqggP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTruoP1qEeizVtFKDMb3cQ" base_Element="_JTrHkf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTruo_1qEeizVtFKDMb3cQ" base_Element="_JTruof1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTs8wP1qEeizVtFKDMb3cQ" base_Element="_JTsVsP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTs8w_1qEeizVtFKDMb3cQ" base_Element="_JTs8wf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTtj0v1qEeizVtFKDMb3cQ" base_Element="_JTtj0P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTuK4P1qEeizVtFKDMb3cQ" base_Element="_JTtj0_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTuK4_1qEeizVtFKDMb3cQ" base_Element="_JTuK4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTux8v1qEeizVtFKDMb3cQ" base_Element="_JTux8P1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTvZAP1qEeizVtFKDMb3cQ" base_Element="_JTux8_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTwAEP1qEeizVtFKDMb3cQ" base_Element="_JTvZAf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTwnIP1qEeizVtFKDMb3cQ" base_Element="_JTwAEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTx1QP1qEeizVtFKDMb3cQ" base_Element="_JTwnIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTycUP1qEeizVtFKDMb3cQ" base_Element="_JTx1Qf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTzDYP1qEeizVtFKDMb3cQ" base_Element="_JTycUf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTzDY_1qEeizVtFKDMb3cQ" base_Element="_JTzDYf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JTzqcP1qEeizVtFKDMb3cQ" base_Element="_JTzDZP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT0RgP1qEeizVtFKDMb3cQ" base_Element="_JTzqcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT04kP1qEeizVtFKDMb3cQ" base_Element="_JT0Rgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT1foP1qEeizVtFKDMb3cQ" base_Element="_JT04kf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT2GsP1qEeizVtFKDMb3cQ" base_Element="_JT1fof1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT2twP1qEeizVtFKDMb3cQ" base_Element="_JT2Gsf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT3U0P1qEeizVtFKDMb3cQ" base_Element="_JT2twf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT374P1qEeizVtFKDMb3cQ" base_Element="_JT3U0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT4i8P1qEeizVtFKDMb3cQ" base_Element="_JT374f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT5xEP1qEeizVtFKDMb3cQ" base_Element="_JT5KAP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT6YIP1qEeizVtFKDMb3cQ" base_Element="_JT5xEf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT6_MP1qEeizVtFKDMb3cQ" base_Element="_JT6YIf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT7mQP1qEeizVtFKDMb3cQ" base_Element="_JT6_Mf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT8NUv1qEeizVtFKDMb3cQ" base_Element="_JT8NUP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT80Yf1qEeizVtFKDMb3cQ" base_Element="_JT8NU_1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT9bcP1qEeizVtFKDMb3cQ" base_Element="_JT80Yv1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT-CgP1qEeizVtFKDMb3cQ" base_Element="_JT9bcf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT-pkP1qEeizVtFKDMb3cQ" base_Element="_JT-Cgf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT_QoP1qEeizVtFKDMb3cQ" base_Element="_JT-pkf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JT_Qo_1qEeizVtFKDMb3cQ" base_Element="_JT_Qof1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUAewP1qEeizVtFKDMb3cQ" base_Element="_JT_3sP1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUBF0P1qEeizVtFKDMb3cQ" base_Element="_JUAewf1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUBs4P1qEeizVtFKDMb3cQ" base_Element="_JUBF0f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUCT8P1qEeizVtFKDMb3cQ" base_Element="_JUBs4f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUC7AP1qEeizVtFKDMb3cQ" base_Element="_JUCT8f1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUDiEP1qEeizVtFKDMb3cQ" base_Element="_JUC7Af1qEeizVtFKDMb3cQ"/>
  <UMLLabProfile:Reference xmi:id="_JUDiE_1qEeizVtFKDMb3cQ" base_Element="_JUDiEf1qEeizVtFKDMb3cQ"/>
</xmi:XMI>
